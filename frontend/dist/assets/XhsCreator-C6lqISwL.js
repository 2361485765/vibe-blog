import{b as De,p as Re,c as u,f as t,e as Ge,j as de,q as ze,t as r,w as C,v as ve,s as V,i as y,x as ce,F as T,h as I,y as pe,n as M,z as He,r as i,A as qe,B as Be,C as Xe,a as ge,o as d,g as me,m as Ae,_ as Fe}from"./index-CgCeG7c6.js";const Ke={class:"terminal-nav"},Qe={class:"terminal-nav-right"},We={class:"container"},Ye={class:"main-card"},Ze={class:"form-group"},et={class:"options-row"},tt={class:"option-group"},st={class:"option-group"},ot={class:"option-group"},at=["disabled"],lt={key:0,class:"error-msg show"},nt={key:1,class:"progress-container show"},it={class:"progress-header"},rt={class:"progress-title"},ut={class:"main-progress"},dt={class:"progress-bar"},vt={class:"progress-percent"},ct={class:"stage-indicators"},pt=["data-stage","onMouseenter"],gt={class:"stage-icon"},mt={class:"stage-name"},ht={class:"stage-status"},ft={key:0,class:"stage-sub-progress"},yt={key:1,class:"stage-detail"},_t={key:0,class:"stage-arrow"},bt={class:"progress-info"},wt={class:"current-stage"},kt={class:"time-estimate"},xt={key:2,class:"result-section show"},Ct={class:"images-grid"},Tt=["id","onMouseenter","onMouseleave"],$t={key:0,class:"placeholder"},St=["src","alt"],Et={class:"caption"},Ot={key:0,class:"prompt-tooltip"},Pt={class:"tooltip-header"},Nt=["onClick"],Vt={class:"copy-section"},It={class:"titles-list"},Mt={class:"copy-content"},Lt={class:"tags-list"},Ut={class:"explanation-video-section"},Jt={class:"video-options"},jt=["disabled"],Dt={key:0,class:"video-progress-container show"},Rt={class:"video-progress-bar"},Gt={class:"video-progress-text"},zt={key:1,class:"video-result-container show"},Ht=["src"],qt={class:"publish-modal-content"},Bt={key:1,class:"side-panel storyboard-panel"},Xt={class:"panel-header storyboard"},At={class:"panel-content"},Ft={class:"prompt-header"},Kt=["onClick"],Qt={key:2,class:"side-panel outline-panel"},Wt={class:"panel-header outline"},Yt={class:"panel-content"},Zt={key:0,class:"outline-section"},es={key:1,class:"pages-section"},ts={class:"page-header"},ss={class:"page-type-badge"},os={class:"page-content"},as=De({__name:"XhsCreator",setup(ls){const K=He(),z=i(!1),$=i(""),H=i("4"),Q=i("hand_drawn"),W=i("false"),S=i(!1),w=i(!1),q=i(!1),L=i(""),Y=i(null);let n=null,B=null;const N=i("ğŸš€ å°çº¢ä¹¦å†…å®¹ç”Ÿæˆä¸­..."),U=i(0),E=i("å‡†å¤‡ä¸­..."),J=i("é¢„è®¡å‰©ä½™: --"),Z=i(null),j=i(null),D=[{id:"search",icon:"ğŸ”",name:"æœç´¢"},{id:"outline",icon:"ğŸ“‹",name:"å¤§çº²"},{id:"content",icon:"ğŸ“",name:"æ–‡æ¡ˆ"},{id:"storyboard",icon:"ğŸ¨",name:"åˆ†é•œ"},{id:"images",icon:"ğŸ–¼ï¸",name:"å›¾ç‰‡"},{id:"video",icon:"ğŸ¬",name:"è§†é¢‘"}],O=ge({}),k=ge({}),c=i(null),h=i([]),ne=i(!1),ie=i(!1),ee=i([]),_=i(null),te=i("sora2"),se=i("ghibli_summer"),oe=i("60"),X=i(!1),A=i(!1),R=i(0),x=i("å‡†å¤‡ä¸­..."),b=i(""),ae=i(!1),F=i(""),he=o=>{const e=O[o];return e==="completed"?"completed":e==="active"?"active":"waiting"},fe=o=>{const e=O[o];return e==="completed"?"å·²å®Œæˆ":e==="active"?"è¿›è¡Œä¸­":"ç­‰å¾…ä¸­"},re=o=>o==="cover"?"type-cover":o==="summary"?"type-summary":"type-content",ye=o=>{h.value=Array.from({length:o},(e,s)=>({loading:!0,url:"",prompt:"",statusText:`ç¬¬ ${s+1} é¡µ`,showTooltip:!1})),q.value=!0},_e=()=>{U.value=0,E.value="å‡†å¤‡ä¸­...",J.value="é¢„è®¡å‰©ä½™: --",N.value="ğŸš€ å°çº¢ä¹¦å†…å®¹ç”Ÿæˆä¸­...",j.value=null,D.forEach(o=>{O[o.id]="waiting",k[o.id]=""})},be=o=>{if(!B||o<=0)return;const s=(Date.now()-B)/1e3/o*(100-o);s>60?J.value=`é¢„è®¡å‰©ä½™: ${Math.ceil(s/60)} åˆ†é’Ÿ`:J.value=`é¢„è®¡å‰©ä½™: ${Math.ceil(s)} ç§’`},we=async()=>{if(!(!$.value.trim()||S.value)){L.value="",S.value=!0,w.value=!0,q.value=!1,_e(),ye(parseInt(H.value));try{const e=await(await fetch("/api/xhs/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:$.value,count:parseInt(H.value),style:Q.value,generate_video:W.value==="true"})})).json();if(!e.success)throw new Error(e.error||"ä»»åŠ¡åˆ›å»ºå¤±è´¥");Y.value=e.task_id,B=Date.now(),ke(e.task_id)}catch(o){L.value="âŒ "+o.message,w.value=!1,S.value=!1}}},ke=o=>{n&&n.close(),n=new EventSource(`/api/xhs/stream/${o}`),n.addEventListener("progress",e=>{const s=JSON.parse(e.data);U.value=s.progress,E.value=s.message,xe(s.stage,s.sub_progress),be(s.progress)}),n.addEventListener("search",e=>{var l;const s=JSON.parse(e.data);k.search=`${s.results_count} æ¡ç»“æœ
æ¥æº: ${((l=s.sources)==null?void 0:l.join(", "))||"é€šç”¨"}`}),n.addEventListener("outline",e=>{const s=JSON.parse(e.data);k.outline=`${s.summary||""}
ç‚¹å‡»æŸ¥çœ‹å®Œæ•´å¤§çº²`,_.value=s}),n.addEventListener("content",e=>{var l,p;const s=JSON.parse(e.data);k.content=`æ ‡é¢˜: ${((l=s.titles)==null?void 0:l[0])||""}
æ ‡ç­¾: ${((p=s.tags)==null?void 0:p.slice(0,3).join(", "))||""}`,Ce(s)}),n.addEventListener("storyboard",e=>{const s=JSON.parse(e.data);k.storyboard=`å…± ${s.total} ä¸ªåˆ†é•œ
æ‚¬æµ®å›¾ç‰‡æŸ¥çœ‹è§†è§‰æŒ‡ä»¤`,ee.value=s.prompts||[],s.prompts&&s.prompts.forEach(l=>{h.value[l.index]&&(h.value[l.index].prompt=l.prompt||"")})}),n.addEventListener("image_progress",e=>{const s=JSON.parse(e.data);h.value[s.index]&&(s.status==="generating"?h.value[s.index].statusText=`ç¬¬ ${s.index+1} é¡µ ç”Ÿæˆä¸­...`:s.status==="failed"&&(h.value[s.index].statusText=`ç¬¬ ${s.index+1} é¡µ å¤±è´¥`))}),n.addEventListener("image",e=>{const s=JSON.parse(e.data);h.value[s.index]&&(h.value[s.index].loading=!1,h.value[s.index].url=s.url)}),n.addEventListener("video",e=>{const s=JSON.parse(e.data);k.video="åŠ¨ç”»å°é¢å·²ç”Ÿæˆ",c.value&&(c.value.video_url=s.url)}),n.addEventListener("complete",e=>{const s=JSON.parse(e.data);n==null||n.close(),n=null,Te(s)}),n.addEventListener("error",e=>{if(e.data){const s=JSON.parse(e.data);n==null||n.close(),n=null,$e(s.message)}}),n.addEventListener("cancelled",()=>{n==null||n.close(),n=null,ue()}),n.onerror=()=>{(n==null?void 0:n.readyState)===EventSource.CLOSED&&console.log("SSE è¿æ¥å·²å…³é—­")}},xe=(o,e)=>{const s=D.map(v=>v.id);let l=s.indexOf(o);const p=o==="complete";p&&(l=s.length),s.forEach((v,m)=>{m<l||p?O[v]="completed":m===l?(O[v]="active",v==="images"&&e&&(j.value=e)):O[v]="waiting"})},Ce=o=>{c.value={...c.value,titles:o.titles,copywriting:o.copywriting,tags:o.tags}},Te=o=>{c.value={...c.value,...o,image_urls:o.image_urls},U.value=100,N.value="ğŸ‰ ç”Ÿæˆå®Œæˆï¼",E.value="å…¨éƒ¨å®Œæˆ";const e=Math.ceil((Date.now()-(B||Date.now()))/1e3);J.value=`æ€»è€—æ—¶: ${e} ç§’`,D.forEach(s=>O[s.id]="completed"),o.image_urls&&o.image_urls.forEach((s,l)=>{var p;(p=h.value[l])!=null&&p.loading&&(h.value[l].loading=!1,h.value[l].url=s)}),S.value=!1,setTimeout(()=>{w.value=!1},3e3)},$e=o=>{N.value="âŒ ç”Ÿæˆå¤±è´¥",E.value=o,L.value="âŒ "+o,S.value=!1,setTimeout(()=>{w.value=!1},5e3)},ue=()=>{N.value="âš ï¸ å·²å–æ¶ˆç”Ÿæˆ",E.value="ä»»åŠ¡å·²è¢«ç”¨æˆ·å–æ¶ˆ",S.value=!1,setTimeout(()=>{w.value=!1},3e3)},Se=async()=>{if(Y.value){try{await fetch(`/api/xhs/tasks/${Y.value}/cancel`,{method:"POST"})}catch(o){console.error("å–æ¶ˆè¯·æ±‚å¤±è´¥:",o)}n==null||n.close(),n=null,ue()}},Ee=()=>{var p;if(!c.value){alert("è¯·å…ˆç”Ÿæˆå†…å®¹");return}const o=((p=c.value.titles)==null?void 0:p[0])||"",e=c.value.copywriting||"",s=(c.value.tags||[]).map(v=>"#"+v).join(" "),l=`${o}

${e}

${s}`;navigator.clipboard.writeText(l).then(()=>{alert("âœ… æ–‡æ¡ˆå·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}).catch(()=>{alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶")})},Oe=async()=>{var e;const o=(e=c.value)==null?void 0:e.image_urls;if(!o||o.length===0){alert("æ²¡æœ‰å¯ä¸‹è½½çš„å›¾ç‰‡");return}alert(`å¼€å§‹ä¸‹è½½ ${o.length} å¼ å›¾ç‰‡`);for(let s=0;s<o.length;s++)try{const p=await(await fetch(o[s])).blob(),v=URL.createObjectURL(p),m=document.createElement("a");m.href=v,m.download=`xhs_${s+1}.jpg`,document.body.appendChild(m),m.click(),document.body.removeChild(m),await new Promise(f=>setTimeout(f,200)),URL.revokeObjectURL(v),s<o.length-1&&await new Promise(f=>setTimeout(f,3e3))}catch(l){console.error(`ä¸‹è½½ç¬¬ ${s+1} å¼ å›¾ç‰‡å¤±è´¥:`,l),window.open(o[s],"_blank")}alert(`âœ“ æ‰€æœ‰ ${o.length} å¼ å›¾ç‰‡ä¸‹è½½å®Œæˆ`)},Pe=o=>{var s;const e=(s=h.value[o])==null?void 0:s.prompt;e&&navigator.clipboard.writeText(e).then(()=>alert("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"))},Ne=o=>{var s;const e=(s=ee.value[o])==null?void 0:s.prompt;e&&navigator.clipboard.writeText(e).then(()=>alert("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"))},Ve=()=>{var o;(o=_.value)!=null&&o.outline&&navigator.clipboard.writeText(_.value.outline).then(()=>alert("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"))},Ie=()=>{if(!c.value){alert("è¯·å…ˆç”Ÿæˆå†…å®¹");return}ae.value=!0},le=()=>{ae.value=!1},Me=async()=>{var e,s,l;if(!F.value.trim()){alert("è¯·è¾“å…¥ Cookie");return}const o=qe(F.value);if(!o||o.length===0){alert("Cookie è§£æå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ ¼å¼");return}if(!((s=(e=c.value)==null?void 0:e.image_urls)!=null&&s.length)){alert("æ²¡æœ‰å¯å‘å¸ƒçš„å›¾ç‰‡");return}le(),w.value=!0,N.value="ğŸ“¤ æ­£åœ¨å‘å¸ƒåˆ°å°çº¢ä¹¦...",E.value="å‡†å¤‡å‘å¸ƒ...";try{const v=await(await fetch("/api/xhs/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cookies:o,title:((l=c.value.titles)==null?void 0:l[0])||c.value.topic||"",content:c.value.copywriting||"",tags:c.value.tags||[],images:c.value.image_urls||[]})})).json();v.success?alert("ğŸ‰ å‘å¸ƒæˆåŠŸï¼"+(v.url?`
ç¬”è®°é“¾æ¥: `+v.url:"")):alert("âŒ å‘å¸ƒå¤±è´¥: "+(v.message||v.error||"æœªçŸ¥é”™è¯¯"))}catch(p){alert("âŒ å‘å¸ƒå¤±è´¥: "+p.message)}finally{w.value=!1}},Le=async()=>{var p,v,m;const o=(p=c.value)==null?void 0:p.image_urls;if(!o||o.length===0){alert("è¯·å…ˆç”Ÿæˆå°çº¢ä¹¦å›¾ç‰‡");return}const e=[];for((v=_.value)!=null&&v.pages?_.value.pages.forEach(f=>e.push(f.content||"")):(m=c.value)!=null&&m.pages&&c.value.pages.forEach(f=>e.push(f.content||""));e.length<o.length;)e.push("");X.value=!0,A.value=!0,R.value=0,x.value="å‡†å¤‡ç”Ÿæˆè®²è§£è§†é¢‘...",b.value="";let s=0;const l=setInterval(()=>{s<90&&(s+=Math.random()*5,R.value=Math.min(s,90),s<20?x.value="åˆ›å»ºæ—¶é—´çº¿...":s<40?x.value="ç”ŸæˆåŠ¨ç”»æŒ‡ä»¤...":s<80?x.value=`ç”Ÿæˆè§†é¢‘ç‰‡æ®µ (${Math.floor(s/20)}/${o.length})...`:x.value="åˆæˆæœ€ç»ˆè§†é¢‘...")},2e3);try{const f=await fetch("/api/xhs/explanation-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({images:o,scripts:e,style:se.value,target_duration:parseInt(oe.value),video_model:te.value})});clearInterval(l);const P=await f.json();if(P.success&&P.video_url)b.value=P.video_url,R.value=100,x.value="âœ… è§†é¢‘ç”Ÿæˆå®Œæˆï¼",setTimeout(()=>{A.value=!1},2e3);else throw new Error(P.error||"è§†é¢‘ç”Ÿæˆå¤±è´¥")}catch(f){clearInterval(l),R.value=100,x.value="âŒ ç”Ÿæˆå¤±è´¥: "+f.message,setTimeout(()=>{A.value=!1},5e3)}finally{X.value=!1}},Ue=()=>{if(!b.value){alert("æ²¡æœ‰å¯ä¸‹è½½çš„è§†é¢‘");return}const o=document.createElement("a");o.href=b.value,o.download="explanation_video.mp4",o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o)},Je=()=>{if(!b.value){alert("æ²¡æœ‰å¯å¤åˆ¶çš„é“¾æ¥");return}navigator.clipboard.writeText(b.value).then(()=>{alert("âœ… è§†é¢‘é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}).catch(()=>{prompt("è¯·æ‰‹åŠ¨å¤åˆ¶è§†é¢‘é“¾æ¥:",b.value)})},je=async o=>{try{const e=await Be(o);if(e.success&&e.record){const s=e.record;$.value=s.topic||"";let l=[];try{l=JSON.parse(s.xhs_image_urls||"[]")}catch{}let p=[];try{p=JSON.parse(s.xhs_hashtags||"[]")}catch{}c.value={id:s.id,topic:s.topic,image_urls:l,video_url:s.cover_video||"",titles:[s.topic],copywriting:s.xhs_copy_text||"",tags:p},h.value=l.map((v,m)=>({loading:!1,url:v,prompt:"",statusText:`ç¬¬ ${m+1} é¡µ`,showTooltip:!1})),q.value=!0}}catch(e){console.error("åŠ è½½å°çº¢ä¹¦å†å²è¯¦æƒ…å¤±è´¥:",e),alert("åŠ è½½å†å²è®°å½•å¤±è´¥")}};return Re(()=>{const o=K.query.topic,e=K.query.source_id,s=K.query.history_id;o&&($.value=o),e&&(window.xhsSourceId=e),s&&je(s)}),(o,e)=>{var l,p,v,m,f,P;const s=Xe("router-link");return d(),u("div",{class:M(["xhs-container",{"dark-mode":z.value}])},[t("nav",Ke,[e[14]||(e[14]=Ge('<div class="terminal-nav-left" data-v-6180067a><div class="terminal-dots" data-v-6180067a><span class="dot red" data-v-6180067a></span><span class="dot yellow" data-v-6180067a></span><span class="dot green" data-v-6180067a></span></div><span class="terminal-title" data-v-6180067a>$ xhs-creator --generate</span></div>',1)),t("div",Qe,[e[13]||(e[13]=t("a",{href:"https://github.com/datawhalechina/vibe-blog",target:"_blank",rel:"noopener noreferrer",class:"nav-cmd",title:"GitHub - vibe-blog"},"GitHub",-1)),de(s,{to:"/",class:"nav-cmd"},{default:ze(()=>[...e[12]||(e[12]=[me("cd ~/blog",-1)])]),_:1}),t("button",{class:"theme-toggle",onClick:e[0]||(e[0]=a=>z.value=!z.value)},r(z.value?"â˜€ï¸":"ğŸŒ™"),1)])]),t("div",We,[e[37]||(e[37]=t("div",{class:"page-title"},[t("h1",null,"> å°çº¢ä¹¦åˆ›ä½œåŠ©æ‰‹_"),t("p",{class:"code-comment"},"// è¾“å…¥ä¸»é¢˜ï¼Œä¸€é”®ç”Ÿæˆå°çº¢ä¹¦é£æ ¼ä¿¡æ¯å›¾ç³»åˆ—")],-1)),t("div",Ye,[t("div",Ze,[e[15]||(e[15]=t("label",null,"ğŸ“Œ è¾“å…¥ä¸»é¢˜",-1)),C(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>$.value=a),class:"text-input",placeholder:"ä¾‹å¦‚ï¼šRAGæŠ€æœ¯å…¥é—¨ã€Redisç¼“å­˜åŸç†ã€Pythonè£…é¥°å™¨è¯¦è§£..."},null,512),[[ve,$.value]])]),t("div",et,[t("div",tt,[e[17]||(e[17]=t("label",null,"ğŸ“„ é¡µé¢æ•°é‡",-1)),C(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>H.value=a)},[...e[16]||(e[16]=[t("option",{value:"3"},"3 é¡µ",-1),t("option",{value:"4"},"4 é¡µ",-1),t("option",{value:"5"},"5 é¡µ",-1),t("option",{value:"6"},"6 é¡µ",-1)])],512),[[V,H.value]])]),t("div",st,[e[19]||(e[19]=t("label",null,"ğŸ¨ è§†è§‰é£æ ¼",-1)),C(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>Q.value=a)},[...e[18]||(e[18]=[t("option",{value:"hand_drawn"},"æ¸©æš–æ‰‹ç»˜é£",-1),t("option",{value:"claymation"},"é»åœŸåŠ¨ç”»é£",-1),t("option",{value:"ghibli_summer"},"ğŸŒ» å®«å´éªçš„å¤å¤©ï¼ˆæ¼«ç”»åˆ†é•œï¼‰",-1)])],512),[[V,Q.value]])]),t("div",ot,[e[21]||(e[21]=t("label",null,"ğŸ¬ åŠ¨ç”»å°é¢",-1)),C(t("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>W.value=a)},[...e[20]||(e[20]=[t("option",{value:"false"},"ä»…é™æ€å›¾",-1),t("option",{value:"true"},"ç”ŸæˆåŠ¨ç”»",-1)])],512),[[V,W.value]])])]),t("button",{class:"generate-btn",disabled:S.value||!$.value.trim(),onClick:we}," âœ¨ å¼€å§‹ç”Ÿæˆ ",8,at),L.value?(d(),u("div",lt,r(L.value),1)):y("",!0),w.value?(d(),u("div",nt,[t("div",it,[t("span",rt,r(N.value),1),t("button",{class:"cancel-btn",onClick:Se},"å–æ¶ˆç”Ÿæˆ")]),t("div",ut,[t("div",dt,[t("div",{class:"progress-fill",style:ce({width:U.value+"%"})},[...e[22]||(e[22]=[t("div",{class:"progress-glow"},null,-1)])],4)]),t("span",vt,r(U.value)+"%",1)]),t("div",ct,[(d(),u(T,null,I(D,(a,g)=>(d(),u(T,{key:a.id},[t("div",{class:M(["stage-item",he(a.id)]),"data-stage":a.id,onMouseenter:G=>Z.value=a.id,onMouseleave:e[5]||(e[5]=G=>Z.value=null)},[t("div",gt,r(a.icon),1),t("div",mt,r(a.name),1),t("div",ht,r(fe(a.id)),1),a.id==="images"&&j.value?(d(),u("div",ft," ("+r(j.value.current)+"/"+r(j.value.total)+") ",1)):y("",!0),Z.value===a.id&&k[a.id]?(d(),u("div",yt,r(k[a.id]),1)):y("",!0)],42,pt),g<D.length-1?(d(),u("div",_t,"â†’")):y("",!0)],64))),64))]),t("div",bt,[t("span",wt,r(E.value),1),t("span",kt,r(J.value),1)])])):y("",!0),q.value?(d(),u("div",xt,[e[35]||(e[35]=t("h2",{class:"result-title"},"ğŸ‰ ç”Ÿæˆå®Œæˆ",-1)),e[36]||(e[36]=t("h3",{style:{"margin-bottom":"12px"}},"ğŸ“· ä¿¡æ¯å›¾é¢„è§ˆ",-1)),t("div",Ct,[(d(!0),u(T,null,I(h.value,(a,g)=>(d(),u("div",{key:g,class:M(["image-card",{loading:a.loading}]),id:`image-slot-${g}`,onMouseenter:G=>a.showTooltip=!0,onMouseleave:G=>a.showTooltip=!1},[a.loading?(d(),u("div",$t,[e[23]||(e[23]=t("div",{class:"mini-spinner"},null,-1)),t("span",null,r(a.statusText||`ç¬¬ ${g+1} é¡µ`),1)])):(d(),u(T,{key:1},[t("img",{src:a.url,alt:`ç¬¬${g+1}å¼ `},null,8,St),t("div",Et,"ç¬¬ "+r(g+1)+" é¡µ"+r(g===0?" (å°é¢)":""),1),a.showTooltip&&a.prompt?(d(),u("div",Ot,[t("div",Pt,[t("span",null,"ğŸ¨ ç¬¬ "+r(g+1)+" é¡µè§†è§‰æŒ‡ä»¤",1),t("button",{onClick:pe(G=>Pe(g),["stop"])},"å¤åˆ¶",8,Nt)]),t("pre",null,r(a.prompt),1)])):y("",!0)],64))],42,Tt))),128))]),t("div",Vt,[e[24]||(e[24]=t("h3",null,"ğŸ“ æ¨èæ ‡é¢˜",-1)),t("div",It,[(d(!0),u(T,null,I(((l=c.value)==null?void 0:l.titles)||[],(a,g)=>(d(),u("div",{key:g,class:M(["title-item",{primary:g===0}])},r(g===0?"â­ ":"")+r(a),3))),128))]),e[25]||(e[25]=t("h3",null,"ğŸ“„ æ–‡æ¡ˆå†…å®¹",-1)),t("div",Mt,r(((p=c.value)==null?void 0:p.copywriting)||""),1),e[26]||(e[26]=t("h3",{style:{"margin-top":"16px"}},"ğŸ·ï¸ æ¨èæ ‡ç­¾",-1)),t("div",Lt,[(d(!0),u(T,null,I(((v=c.value)==null?void 0:v.tags)||[],a=>(d(),u("span",{key:a,class:"tag"},"#"+r(a),1))),128))])]),t("div",Ut,[e[31]||(e[31]=t("h3",{style:{"margin-bottom":"12px",color:"#333"}},"ğŸ¬ ç”Ÿæˆè®²è§£è§†é¢‘",-1)),e[32]||(e[32]=t("p",{style:{color:"#666","font-size":"14px","margin-bottom":"16px"}}," å°†æ‰€æœ‰å›¾ç‰‡åˆæˆä¸ºä¸€ä¸ªå®Œæ•´çš„åŠ¨ç”»è®²è§£è§†é¢‘ï¼Œé€‚åˆå‘å¸ƒåˆ°å°çº¢ä¹¦ã€æŠ–éŸ³ç­‰å¹³å° ",-1)),t("div",Jt,[C(t("select",{"onUpdate:modelValue":e[6]||(e[6]=a=>te.value=a)},[...e[27]||(e[27]=[t("option",{value:"sora2"},"ğŸ¬ Sora2 (æ¨è)",-1),t("option",{value:"veo3"},"ğŸ¥ Veo3",-1)])],512),[[V,te.value]]),C(t("select",{"onUpdate:modelValue":e[7]||(e[7]=a=>se.value=a)},[...e[28]||(e[28]=[t("option",{value:"ghibli_summer"},"ğŸŒ» å®«å´éªå¤æ—¥é£",-1),t("option",{value:"cartoon"},"ğŸ¨ å¡é€šæ´»æ³¼é£",-1),t("option",{value:"scientific"},"ğŸ”¬ ç§‘æ™®ä¸“ä¸šé£",-1)])],512),[[V,se.value]]),C(t("select",{"onUpdate:modelValue":e[8]||(e[8]=a=>oe.value=a)},[...e[29]||(e[29]=[t("option",{value:"30"},"30 ç§’",-1),t("option",{value:"60"},"60 ç§’",-1),t("option",{value:"90"},"90 ç§’",-1),t("option",{value:"120"},"2 åˆ†é’Ÿ",-1)])],512),[[V,oe.value]]),t("button",{class:"explanation-video-btn",disabled:X.value,onClick:Le}," ğŸ¬ "+r(X.value?"ç”Ÿæˆä¸­...":"ç”Ÿæˆè®²è§£è§†é¢‘"),9,jt)]),A.value?(d(),u("div",Dt,[t("div",Rt,[t("div",{class:"video-progress-fill",style:ce({width:R.value+"%"})},null,4)]),t("div",Gt,r(x.value),1)])):y("",!0),b.value?(d(),u("div",zt,[e[30]||(e[30]=t("h4",{style:{"margin-bottom":"12px",color:"#333"}},"âœ… è®²è§£è§†é¢‘å·²ç”Ÿæˆ",-1)),t("video",{src:b.value,controls:"",autoplay:"",loop:"",muted:"",playsinline:""},null,8,Ht),t("div",{class:"video-actions"},[t("button",{onClick:Ue},"ğŸ“¥ ä¸‹è½½è§†é¢‘"),t("button",{onClick:Je},"ğŸ“‹ å¤åˆ¶é“¾æ¥")])])):y("",!0)]),t("div",{class:"publish-section"},[e[33]||(e[33]=t("h3",null,"ğŸš€ å‘å¸ƒåˆ°å°çº¢ä¹¦",-1)),e[34]||(e[34]=t("p",{style:{color:"#666","font-size":"14px","margin-bottom":"16px"}}," è¯·å…ˆåœ¨æµè§ˆå™¨ç™»å½•å°çº¢ä¹¦åˆ›ä½œè€…ä¸­å¿ƒï¼Œç„¶åä½¿ç”¨æµè§ˆå™¨æ‰©å±•å¯¼å‡º Cookie ",-1)),t("div",{class:"publish-buttons"},[t("button",{class:"publish-btn outline",onClick:Ee},"ğŸ“‹ å¤åˆ¶æ–‡æ¡ˆ"),t("button",{class:"publish-btn outline",onClick:Oe},"ğŸ“¥ ä¸‹è½½å›¾ç‰‡"),t("button",{class:"publish-btn primary",onClick:Ie},"ğŸš€ ä¸€é”®å‘å¸ƒ")])])])):y("",!0)])]),ae.value?(d(),u("div",{key:0,class:"publish-modal",onClick:pe(le,["self"])},[t("div",qt,[e[38]||(e[38]=t("h3",null,"ğŸ” è¾“å…¥å°çº¢ä¹¦ Cookie",-1)),e[39]||(e[39]=t("p",null,"åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Network â†’ ä»»æ„è¯·æ±‚ â†’ Headers â†’ Cookieï¼Œå¤åˆ¶ç²˜è´´å³å¯ï¼š",-1)),C(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=a=>F.value=a),placeholder:"ç›´æ¥ç²˜è´´ Cookie å­—ç¬¦ä¸²ï¼Œå¦‚: a1=xxx; webId=yyy; web_session=zzz"},null,512),[[ve,F.value]]),t("div",{class:"modal-actions"},[t("button",{class:"cancel",onClick:le},"å–æ¶ˆ"),t("button",{class:"confirm",onClick:Me},"ç¡®è®¤å‘å¸ƒ")])])])):y("",!0),ne.value?(d(),u("div",Bt,[t("div",Xt,[e[40]||(e[40]=t("h3",null,"ğŸ¨ åˆ†é•œè§†è§‰æŒ‡ä»¤",-1)),t("button",{onClick:e[10]||(e[10]=a=>ne.value=!1)},"Ã—")]),t("div",At,[(d(!0),u(T,null,I(ee.value,(a,g)=>(d(),u("div",{key:g,class:M(["prompt-card",re(a.page_type)])},[t("div",Ft,[t("span",null,"ç¬¬ "+r(a.index+1)+" é¡µ ("+r(a.page_type)+")",1),t("button",{onClick:G=>Ne(g)},"å¤åˆ¶",8,Kt)]),t("pre",null,r(a.prompt),1)],2))),128))])])):y("",!0),ie.value?(d(),u("div",Qt,[t("div",Wt,[e[41]||(e[41]=t("h3",null,"ğŸ“‹ å®Œæ•´å¤§çº²",-1)),t("button",{onClick:e[11]||(e[11]=a=>ie.value=!1)},"Ã—")]),t("div",Yt,[(m=_.value)!=null&&m.outline?(d(),u("div",Zt,[t("div",{class:"section-header"},[e[42]||(e[42]=t("span",null,"ğŸ“ å®Œæ•´å¤§çº²",-1)),t("button",{onClick:Ve},"å¤åˆ¶")]),t("pre",null,r(_.value.outline),1)])):y("",!0),(P=(f=_.value)==null?void 0:f.pages)!=null&&P.length?(d(),u("div",es,[e[43]||(e[43]=t("h4",null,"ğŸ“„ å„é¡µå†…å®¹",-1)),(d(!0),u(T,null,I(_.value.pages,(a,g)=>(d(),u("div",{key:g,class:M(["page-card",re(a.page_type)])},[t("div",ts,[t("span",null,[me("ç¬¬ "+r(a.index+1)+" é¡µ ",1),t("span",ss,r(a.page_type),1)])]),t("div",os,r(a.content||"æš‚æ— å†…å®¹"),1)],2))),128))])):y("",!0)])])):y("",!0),de(Ae)],2)}}}),is=Fe(as,[["__scopeId","data-v-6180067a"]]);export{is as default};
