const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-jsalfggW.js","assets/index-BzfbaWaV.js","assets/index-Ds5vfhz6.css"])))=>i.map(i=>d[i]);
import{H as We,I as Ce,h as C,i as $,J as qn,K as Rn,L as ge,M as Ln,q as Te,N as nn,O as on,P as ze,D as He,d as M,Q as ae,R as Bn,o as x,S as F,w as k,T as W,s as p,m as at,U as de,l as In,V as an,g as Q,W as Mn,X as Fn,Y as Nn,Z as Lt,$ as Bt,C as _e,a0 as zn,a1 as st,a2 as _t,b as R,a3 as xt,a4 as je,a5 as sn,a6 as Hn,a7 as Vn,a8 as Se,a9 as rn,aa as Wn,c as H,ab as we,ac as jn,A as Kn,p as Ct,ad as ln,ae as It,k as me,t as K,af as un,ag as it,ah as Un,ai as Gn,aj as Ke,ak as Ue,al as Yn,am as Xn,an as Jn,ao as Qn,E as Zn,G as Mt,ap as Tt,aq as Ot,a as O,n as et,F as be,r as Ne,_ as rt,f as Le,ar as Qe,as as Ft,v as eo,x as to,B as no,at as Be,au as oo,av as ao,aw as so}from"./index-BzfbaWaV.js";import{u as io}from"./useMarkdownRenderer-Dys9Zesp.js";import"./marked.esm-CURnbxgz.js";/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=We("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=We("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=We("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=We("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=We("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);function Nt(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function cn(e,n,t){const o=t.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),o.dispatchEvent(a)}function po(e){return e==null}const[vo]=Ce("ConfigProvider");function dn(e){const n=vo({dir:C("ltr")});return $(()=>{var t;return(e==null?void 0:e.value)||((t=n.dir)==null?void 0:t.value)||"ltr"})}function mo(e,n){const t=qn(!1,300);Rn(()=>{t.value=!1});const o=C(null),a=Ln();function s(){o.value=null,t.value=!1}function i(l,f){const c=l.currentTarget,r={x:l.clientX,y:l.clientY},u=go(r,c.getBoundingClientRect()),v=ho(r,u,1),d=yo(f.getBoundingClientRect()),m=bo([...v,...d]);o.value=m,t.value=!0}return ge(l=>{if(e.value&&n.value){const f=r=>i(r,n.value),c=r=>i(r,e.value);e.value.addEventListener("pointerleave",f),n.value.addEventListener("pointerleave",c),l(()=>{var r,u;(r=e.value)==null||r.removeEventListener("pointerleave",f),(u=n.value)==null||u.removeEventListener("pointerleave",c)})}}),ge(l=>{var f;if(o.value){const c=r=>{var w,y;if(!o.value||!(r.target instanceof Element))return;const u=r.target,v={x:r.clientX,y:r.clientY},d=((w=e.value)==null?void 0:w.contains(u))||((y=n.value)==null?void 0:y.contains(u)),m=!wo(v,o.value),g=!!u.closest("[data-grace-area-trigger]");d?s():(m||g)&&(s(),a.trigger())};(f=e.value)==null||f.ownerDocument.addEventListener("pointermove",c),l(()=>{var r;return(r=e.value)==null?void 0:r.ownerDocument.removeEventListener("pointermove",c)})}}),{isPointerInTransit:t,onPointerExit:a.on}}function go(e,n){const t=Math.abs(n.top-e.y),o=Math.abs(n.bottom-e.y),a=Math.abs(n.right-e.x),s=Math.abs(n.left-e.x);switch(Math.min(t,o,a,s)){case s:return"left";case a:return"right";case t:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function ho(e,n,t=5){const o=[];switch(n){case"top":o.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":o.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":o.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":o.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return o}function yo(e){const{top:n,right:t,bottom:o,left:a}=e;return[{x:a,y:n},{x:t,y:n},{x:t,y:o},{x:a,y:o}]}function wo(e,n){const{x:t,y:o}=e;let a=!1;for(let s=0,i=n.length-1;s<n.length;i=s++){const l=n[s].x,f=n[s].y,c=n[i].x,r=n[i].y;f>o!=r>o&&t<(c-l)*(o-f)/(r-f)+l&&(a=!a)}return a}function bo(e){const n=e.slice();return n.sort((t,o)=>t.x<o.x?-1:t.x>o.x?1:t.y<o.y?-1:t.y>o.y?1:0),_o(n)}function _o(e){if(e.length<=1)return e.slice();const n=[];for(let o=0;o<e.length;o++){const a=e[o];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))n.pop();else break}n.push(a)}n.pop();const t=[];for(let o=e.length-1;o>=0;o--){const a=e[o];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}return t.pop(),n.length===1&&t.length===1&&n[0].x===t[0].x&&n[0].y===t[0].y?n:n.concat(t)}function xo(e){const n=C(),t=$(()=>{var a;return((a=n.value)==null?void 0:a.width)??0}),o=$(()=>{var a;return((a=n.value)==null?void 0:a.height)??0});return Te(()=>{const a=nn(e);if(a){n.value={width:a.offsetWidth,height:a.offsetHeight};const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let f,c;if("borderBoxSize"in l){const r=l.borderBoxSize,u=Array.isArray(r)?r[0]:r;f=u.inlineSize,c=u.blockSize}else f=a.offsetWidth,c=a.offsetHeight;n.value={width:f,height:c}});return s.observe(a,{box:"border-box"}),()=>s.unobserve(a)}else n.value=void 0}),{width:t,height:o}}function zt(){const e=C(),n=$(()=>{var t,o;return["#text","#comment"].includes((t=e.value)==null?void 0:t.$el.nodeName)?(o=e.value)==null?void 0:o.$el.nextElementSibling:nn(e)});return{primitiveElement:e,currentElement:n}}const Co="dismissableLayer.pointerDownOutside",To="dismissableLayer.focusOutside";function fn(e,n){const t=n.closest("[data-dismissable-layer]"),o=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),a=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(t&&(o===t||a.indexOf(o)<a.indexOf(t)))}function Oo(e,n,t=!0){var i;const o=((i=n==null?void 0:n.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),a=C(!1),s=C(()=>{});return ge(l=>{if(!on||!ze(t))return;const f=async r=>{const u=r.target;if(!(!(n!=null&&n.value)||!u)){if(fn(n.value,u)){a.value=!1;return}if(r.target&&!a.value){let d=function(){cn(Co,e,v)};const v={originalEvent:r};r.pointerType==="touch"?(o.removeEventListener("click",s.value),s.value=d,o.addEventListener("click",s.value,{once:!0})):d()}else o.removeEventListener("click",s.value);a.value=!1}},c=window.setTimeout(()=>{o.addEventListener("pointerdown",f)},0);l(()=>{window.clearTimeout(c),o.removeEventListener("pointerdown",f),o.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>{ze(t)&&(a.value=!0)}}}function ko(e,n,t=!0){var s;const o=((s=n==null?void 0:n.value)==null?void 0:s.ownerDocument)??(globalThis==null?void 0:globalThis.document),a=C(!1);return ge(i=>{if(!on||!ze(t))return;const l=async f=>{if(!(n!=null&&n.value))return;await He(),await He();const c=f.target;!n.value||!c||fn(n.value,c)||f.target&&!a.value&&cn(To,e,{originalEvent:f})};o.addEventListener("focusin",l),i(()=>o.removeEventListener("focusin",l))}),{onFocusCapture:()=>{ze(t)&&(a.value=!0)},onBlurCapture:()=>{ze(t)&&(a.value=!1)}}}const oe=In({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var So=M({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:n}){const t=e,o=n,{forwardRef:a,currentElement:s}=ae(),i=$(()=>{var d;return((d=s.value)==null?void 0:d.ownerDocument)??globalThis.document}),l=$(()=>oe.layersRoot),f=$(()=>s.value?Array.from(l.value).indexOf(s.value):-1),c=$(()=>oe.layersWithOutsidePointerEventsDisabled.size>0),r=$(()=>{const d=Array.from(l.value),[m]=[...oe.layersWithOutsidePointerEventsDisabled].slice(-1),g=d.indexOf(m);return f.value>=g}),u=Oo(async d=>{const m=[...oe.branches].some(g=>g==null?void 0:g.contains(d.target));!r.value||m||(o("pointerDownOutside",d),o("interactOutside",d),await He(),d.defaultPrevented||o("dismiss"))},s),v=ko(d=>{[...oe.branches].some(g=>g==null?void 0:g.contains(d.target))||(o("focusOutside",d),o("interactOutside",d),d.defaultPrevented||o("dismiss"))},s);return Bn("Escape",d=>{f.value===l.value.size-1&&(o("escapeKeyDown",d),d.defaultPrevented||o("dismiss"))}),ge(d=>{s.value&&(t.disableOutsidePointerEvents&&(oe.layersWithOutsidePointerEventsDisabled.size===0&&(oe.originalBodyPointerEvents=i.value.body.style.pointerEvents,i.value.body.style.pointerEvents="none"),oe.layersWithOutsidePointerEventsDisabled.add(s.value)),l.value.add(s.value),d(()=>{t.disableOutsidePointerEvents&&oe.layersWithOutsidePointerEventsDisabled.size===1&&!po(oe.originalBodyPointerEvents)&&(i.value.body.style.pointerEvents=oe.originalBodyPointerEvents)}))}),ge(d=>{d(()=>{s.value&&(l.value.delete(s.value),oe.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(d,m)=>(x(),F(p(de),{ref:p(a),"as-child":d.asChild,as:d.as,"data-dismissable-layer":"",style:at({pointerEvents:c.value?r.value?"auto":"none":void 0}),onFocusCapture:p(v).onFocusCapture,onBlurCapture:p(v).onBlurCapture,onPointerdownCapture:p(u).onPointerDownCapture},{default:k(()=>[W(d.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),$o=So,Eo=M({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=Mn();return(t,o)=>p(n)||t.forceMount?(x(),F(an,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[W(t.$slots,"default")],8,["to","disabled","defer"])):Q("v-if",!0)}}),Po=Eo;const Ht="data-reka-collection-item";function pn(e={}){const{key:n="",isProvider:t=!1}=e,o=`${n}CollectionProvider`;let a;if(t){const r=C(new Map);a={collectionRef:C(),itemMap:r},zn(o,a)}else a=Fn(o);const s=(r=!1)=>{const u=a.collectionRef.value;if(!u)return[];const v=Array.from(u.querySelectorAll(`[${Ht}]`)),m=Array.from(a.itemMap.value.values()).sort((g,w)=>v.indexOf(g.ref)-v.indexOf(w.ref));return r?m:m.filter(g=>g.ref.dataset.disabled!=="")},i=M({name:"CollectionSlot",inheritAttrs:!1,setup(r,{slots:u,attrs:v}){const{primitiveElement:d,currentElement:m}=zt();return _e(m,()=>{a.collectionRef.value=m.value}),()=>Lt(Bt,{ref:d,...v},u)}}),l=M({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(r,{slots:u,attrs:v}){const{primitiveElement:d,currentElement:m}=zt();return ge(g=>{if(m.value){const w=Nn(m.value);a.itemMap.value.set(w,{ref:m.value,value:r.value}),g(()=>a.itemMap.value.delete(w))}}),()=>Lt(Bt,{...v,[Ht]:"",ref:d},u)}}),f=$(()=>Array.from(a.itemMap.value.values())),c=$(()=>a.itemMap.value.size);return{getItems:s,reactiveItems:f,itemMapSize:c,CollectionSlot:i,CollectionItem:l}}const Ao="rovingFocusGroup.onEntryFocus",Do={bubbles:!1,cancelable:!0},qo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ro(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Lo(e,n,t){const o=Ro(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return qo[o]}function vn(e,n=!1){const t=Nt();for(const o of e)if(o===t||(o.focus({preventScroll:n}),Nt()!==t))return}function Bo(e,n){return e.map((t,o)=>e[(n+o)%e.length])}const[Io,Mo]=Ce("RovingFocusGroup");var Fo=M({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:n,emit:t}){const o=e,a=t,{loop:s,orientation:i,dir:l}=st(o),f=dn(l),c=_t(o,"currentTabStopId",a,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),r=C(!1),u=C(!1),v=C(0),{getItems:d,CollectionSlot:m}=pn({isProvider:!0});function g(y){const _=!u.value;if(y.currentTarget&&y.target===y.currentTarget&&_&&!r.value){const h=new CustomEvent(Ao,Do);if(y.currentTarget.dispatchEvent(h),a("entryFocus",h),!h.defaultPrevented){const T=d().map(I=>I.ref).filter(I=>I.dataset.disabled!==""),P=T.find(I=>I.getAttribute("data-active")===""),L=T.find(I=>I.getAttribute("data-highlighted")===""),D=T.find(I=>I.id===c.value),N=[P,L,D,...T].filter(Boolean);vn(N,o.preventScrollOnEntryFocus)}}u.value=!1}function w(){setTimeout(()=>{u.value=!1},1)}return n({getItems:d}),Mo({loop:s,dir:f,orientation:i,currentTabStopId:c,onItemFocus:y=>{c.value=y},onItemShiftTab:()=>{r.value=!0},onFocusableItemAdd:()=>{v.value++},onFocusableItemRemove:()=>{v.value--}}),(y,_)=>(x(),F(p(m),null,{default:k(()=>[R(p(de),{tabindex:r.value||v.value===0?-1:0,"data-orientation":p(i),as:y.as,"as-child":y.asChild,dir:p(f),style:{outline:"none"},onMousedown:_[0]||(_[0]=h=>u.value=!0),onMouseup:w,onFocus:g,onBlur:_[1]||(_[1]=h=>r.value=!1)},{default:k(()=>[W(y.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),No=Fo,zo=M({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const n=e,t=Io(),o=xt(),a=$(()=>n.tabStopId||o),s=$(()=>t.currentTabStopId.value===a.value),{getItems:i,CollectionItem:l}=pn();Te(()=>{n.focusable&&t.onFocusableItemAdd()}),je(()=>{n.focusable&&t.onFocusableItemRemove()});function f(c){if(c.key==="Tab"&&c.shiftKey){t.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const r=Lo(c,t.orientation.value,t.dir.value);if(r!==void 0){if(c.metaKey||c.ctrlKey||c.altKey||!n.allowShiftKey&&c.shiftKey)return;c.preventDefault();let u=[...i().map(v=>v.ref).filter(v=>v.dataset.disabled!=="")];if(r==="last")u.reverse();else if(r==="prev"||r==="next"){r==="prev"&&u.reverse();const v=u.indexOf(c.currentTarget);u=t.loop.value?Bo(u,v+1):u.slice(v+1)}He(()=>vn(u))}}return(c,r)=>(x(),F(p(l),null,{default:k(()=>[R(p(de),{tabindex:s.value?0:-1,"data-orientation":p(t).orientation.value,"data-active":c.active?"":void 0,"data-disabled":c.focusable?void 0:"",as:c.as,"as-child":c.asChild,onMousedown:r[0]||(r[0]=u=>{c.focusable?p(t).onItemFocus(a.value):u.preventDefault()}),onFocus:r[1]||(r[1]=u=>p(t).onItemFocus(a.value)),onKeydown:f},{default:k(()=>[W(c.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),Ho=zo,Vo=M({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return(n,t)=>(x(),F(p(de),{as:n.as,"as-child":n.asChild,"aria-hidden":n.feature==="focusable"?"true":void 0,"data-hidden":n.feature==="fully-hidden"?"":void 0,tabindex:n.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:k(()=>[W(n.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),Wo=Vo;const[mn,jo]=Ce("PopperRoot");var Ko=M({inheritAttrs:!1,__name:"PopperRoot",setup(e){const n=C();return jo({anchor:n,onAnchorChange:t=>n.value=t}),(t,o)=>W(t.$slots,"default")}}),Uo=Ko,Go=M({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,{forwardRef:t,currentElement:o}=ae(),a=mn();return sn(()=>{a.onAnchorChange(n.reference??o.value)}),(s,i)=>(x(),F(p(de),{ref:p(t),as:s.as,"as-child":s.asChild},{default:k(()=>[W(s.$slots,"default")]),_:3},8,["as","as-child"]))}}),Yo=Go;function Xo(e){return e!==null}function Jo(e){return{name:"transformOrigin",options:e,fn(n){var w,y,_;const{placement:t,rects:o,middlewareData:a}=n,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,f=i?0:e.arrowHeight,[c,r]=gt(t),u={start:"0%",center:"50%",end:"100%"}[r],v=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,d=(((_=a.arrow)==null?void 0:_.y)??0)+f/2;let m="",g="";return c==="bottom"?(m=i?u:`${v}px`,g=`${-f}px`):c==="top"?(m=i?u:`${v}px`,g=`${o.floating.height+f}px`):c==="right"?(m=`${-f}px`,g=i?u:`${d}px`):c==="left"&&(m=`${o.floating.width+f}px`,g=i?u:`${d}px`),{data:{x:m,y:g}}}}}function gt(e){const[n,t="center"]=e.split("-");return[n,t]}const Qo=["top","right","bottom","left"],he=Math.min,ee=Math.max,tt=Math.round,Ze=Math.floor,ue=e=>({x:e,y:e}),Zo={left:"right",right:"left",bottom:"top",top:"bottom"},ea={start:"end",end:"start"};function ht(e,n,t){return ee(e,he(n,t))}function pe(e,n){return typeof e=="function"?e(n):e}function ve(e){return e.split("-")[0]}function Ae(e){return e.split("-")[1]}function kt(e){return e==="x"?"y":"x"}function St(e){return e==="y"?"height":"width"}const ta=new Set(["top","bottom"]);function le(e){return ta.has(ve(e))?"y":"x"}function $t(e){return kt(le(e))}function na(e,n,t){t===void 0&&(t=!1);const o=Ae(e),a=$t(e),s=St(a);let i=a==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(i=nt(i)),[i,nt(i)]}function oa(e){const n=nt(e);return[yt(e),n,yt(n)]}function yt(e){return e.replace(/start|end/g,n=>ea[n])}const Vt=["left","right"],Wt=["right","left"],aa=["top","bottom"],sa=["bottom","top"];function ia(e,n,t){switch(e){case"top":case"bottom":return t?n?Wt:Vt:n?Vt:Wt;case"left":case"right":return n?aa:sa;default:return[]}}function ra(e,n,t,o){const a=Ae(e);let s=ia(ve(e),t==="start",o);return a&&(s=s.map(i=>i+"-"+a),n&&(s=s.concat(s.map(yt)))),s}function nt(e){return e.replace(/left|right|bottom|top/g,n=>Zo[n])}function la(e){return{top:0,right:0,bottom:0,left:0,...e}}function gn(e){return typeof e!="number"?la(e):{top:e,right:e,bottom:e,left:e}}function ot(e){const{x:n,y:t,width:o,height:a}=e;return{width:o,height:a,top:t,left:n,right:n+o,bottom:t+a,x:n,y:t}}function jt(e,n,t){let{reference:o,floating:a}=e;const s=le(n),i=$t(n),l=St(i),f=ve(n),c=s==="y",r=o.x+o.width/2-a.width/2,u=o.y+o.height/2-a.height/2,v=o[l]/2-a[l]/2;let d;switch(f){case"top":d={x:r,y:o.y-a.height};break;case"bottom":d={x:r,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:u};break;case"left":d={x:o.x-a.width,y:u};break;default:d={x:o.x,y:o.y}}switch(Ae(n)){case"start":d[i]-=v*(t&&c?-1:1);break;case"end":d[i]+=v*(t&&c?-1:1);break}return d}async function ua(e,n){var t;n===void 0&&(n={});const{x:o,y:a,platform:s,rects:i,elements:l,strategy:f}=e,{boundary:c="clippingAncestors",rootBoundary:r="viewport",elementContext:u="floating",altBoundary:v=!1,padding:d=0}=pe(n,e),m=gn(d),w=l[v?u==="floating"?"reference":"floating":u],y=ot(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:r,strategy:f})),_=u==="floating"?{x:o,y:a,width:i.floating.width,height:i.floating.height}:i.reference,h=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),T=await(s.isElement==null?void 0:s.isElement(h))?await(s.getScale==null?void 0:s.getScale(h))||{x:1,y:1}:{x:1,y:1},P=ot(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:h,strategy:f}):_);return{top:(y.top-P.top+m.top)/T.y,bottom:(P.bottom-y.bottom+m.bottom)/T.y,left:(y.left-P.left+m.left)/T.x,right:(P.right-y.right+m.right)/T.x}}const ca=async(e,n,t)=>{const{placement:o="bottom",strategy:a="absolute",middleware:s=[],platform:i}=t,l=s.filter(Boolean),f=await(i.isRTL==null?void 0:i.isRTL(n));let c=await i.getElementRects({reference:e,floating:n,strategy:a}),{x:r,y:u}=jt(c,o,f),v=o,d={},m=0;for(let w=0;w<l.length;w++){var g;const{name:y,fn:_}=l[w],{x:h,y:T,data:P,reset:L}=await _({x:r,y:u,initialPlacement:o,placement:v,strategy:a,middlewareData:d,rects:c,platform:{...i,detectOverflow:(g=i.detectOverflow)!=null?g:ua},elements:{reference:e,floating:n}});r=h??r,u=T??u,d={...d,[y]:{...d[y],...P}},L&&m<=50&&(m++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(c=L.rects===!0?await i.getElementRects({reference:e,floating:n,strategy:a}):L.rects),{x:r,y:u}=jt(c,v,f)),w=-1)}return{x:r,y:u,placement:v,strategy:a,middlewareData:d}},da=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:o,placement:a,rects:s,platform:i,elements:l,middlewareData:f}=n,{element:c,padding:r=0}=pe(e,n)||{};if(c==null)return{};const u=gn(r),v={x:t,y:o},d=$t(a),m=St(d),g=await i.getDimensions(c),w=d==="y",y=w?"top":"left",_=w?"bottom":"right",h=w?"clientHeight":"clientWidth",T=s.reference[m]+s.reference[d]-v[d]-s.floating[m],P=v[d]-s.reference[d],L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let D=L?L[h]:0;(!D||!await(i.isElement==null?void 0:i.isElement(L)))&&(D=l.floating[h]||s.floating[m]);const N=T/2-P/2,I=D/2-g[m]/2-1,U=he(u[y],I),z=he(u[_],I),A=U,B=D-g[m]-z,q=D/2-g[m]/2+N,S=ht(A,q,B),b=!f.arrow&&Ae(a)!=null&&q!==S&&s.reference[m]/2-(q<A?U:z)-g[m]/2<0,G=b?q<A?q-A:q-B:0;return{[d]:v[d]+G,data:{[d]:S,centerOffset:q-S-G,...b&&{alignmentOffset:G}},reset:b}}}),fa=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,o;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:f,elements:c}=n,{mainAxis:r=!0,crossAxis:u=!0,fallbackPlacements:v,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...w}=pe(e,n);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const y=ve(a),_=le(l),h=ve(l)===l,T=await(f.isRTL==null?void 0:f.isRTL(c.floating)),P=v||(h||!g?[nt(l)]:oa(l)),L=m!=="none";!v&&L&&P.push(...ra(l,g,m,T));const D=[l,...P],N=await f.detectOverflow(n,w),I=[];let U=((o=s.flip)==null?void 0:o.overflows)||[];if(r&&I.push(N[y]),u){const q=na(a,i,T);I.push(N[q[0]],N[q[1]])}if(U=[...U,{placement:a,overflows:I}],!I.every(q=>q<=0)){var z,A;const q=(((z=s.flip)==null?void 0:z.index)||0)+1,S=D[q];if(S&&(!(u==="alignment"?_!==le(S):!1)||U.every(V=>le(V.placement)===_?V.overflows[0]>0:!0)))return{data:{index:q,overflows:U},reset:{placement:S}};let b=(A=U.filter(G=>G.overflows[0]<=0).sort((G,V)=>G.overflows[1]-V.overflows[1])[0])==null?void 0:A.placement;if(!b)switch(d){case"bestFit":{var B;const G=(B=U.filter(V=>{if(L){const Y=le(V.placement);return Y===_||Y==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,re)=>Y+re,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:B[0];G&&(b=G);break}case"initialPlacement":b=l;break}if(a!==b)return{reset:{placement:b}}}return{}}}};function Kt(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function Ut(e){return Qo.some(n=>e[n]>=0)}const pa=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:t,platform:o}=n,{strategy:a="referenceHidden",...s}=pe(e,n);switch(a){case"referenceHidden":{const i=await o.detectOverflow(n,{...s,elementContext:"reference"}),l=Kt(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Ut(l)}}}case"escaped":{const i=await o.detectOverflow(n,{...s,altBoundary:!0}),l=Kt(i,t.floating);return{data:{escapedOffsets:l,escaped:Ut(l)}}}default:return{}}}}},hn=new Set(["left","top"]);async function va(e,n){const{placement:t,platform:o,elements:a}=e,s=await(o.isRTL==null?void 0:o.isRTL(a.floating)),i=ve(t),l=Ae(t),f=le(t)==="y",c=hn.has(i)?-1:1,r=s&&f?-1:1,u=pe(n,e);let{mainAxis:v,crossAxis:d,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof m=="number"&&(d=l==="end"?m*-1:m),f?{x:d*r,y:v*c}:{x:v*c,y:d*r}}const ma=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,o;const{x:a,y:s,placement:i,middlewareData:l}=n,f=await va(n,e);return i===((t=l.offset)==null?void 0:t.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:i}}}}},ga=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:o,placement:a,platform:s}=n,{mainAxis:i=!0,crossAxis:l=!1,limiter:f={fn:y=>{let{x:_,y:h}=y;return{x:_,y:h}}},...c}=pe(e,n),r={x:t,y:o},u=await s.detectOverflow(n,c),v=le(ve(a)),d=kt(v);let m=r[d],g=r[v];if(i){const y=d==="y"?"top":"left",_=d==="y"?"bottom":"right",h=m+u[y],T=m-u[_];m=ht(h,m,T)}if(l){const y=v==="y"?"top":"left",_=v==="y"?"bottom":"right",h=g+u[y],T=g-u[_];g=ht(h,g,T)}const w=f.fn({...n,[d]:m,[v]:g});return{...w,data:{x:w.x-t,y:w.y-o,enabled:{[d]:i,[v]:l}}}}}},ha=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:t,y:o,placement:a,rects:s,middlewareData:i}=n,{offset:l=0,mainAxis:f=!0,crossAxis:c=!0}=pe(e,n),r={x:t,y:o},u=le(a),v=kt(u);let d=r[v],m=r[u];const g=pe(l,n),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(f){const h=v==="y"?"height":"width",T=s.reference[v]-s.floating[h]+w.mainAxis,P=s.reference[v]+s.reference[h]-w.mainAxis;d<T?d=T:d>P&&(d=P)}if(c){var y,_;const h=v==="y"?"width":"height",T=hn.has(ve(a)),P=s.reference[u]-s.floating[h]+(T&&((y=i.offset)==null?void 0:y[u])||0)+(T?0:w.crossAxis),L=s.reference[u]+s.reference[h]+(T?0:((_=i.offset)==null?void 0:_[u])||0)-(T?w.crossAxis:0);m<P?m=P:m>L&&(m=L)}return{[v]:d,[u]:m}}}},ya=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var t,o;const{placement:a,rects:s,platform:i,elements:l}=n,{apply:f=()=>{},...c}=pe(e,n),r=await i.detectOverflow(n,c),u=ve(a),v=Ae(a),d=le(a)==="y",{width:m,height:g}=s.floating;let w,y;u==="top"||u==="bottom"?(w=u,y=v===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=u,w=v==="end"?"top":"bottom");const _=g-r.top-r.bottom,h=m-r.left-r.right,T=he(g-r[w],_),P=he(m-r[y],h),L=!n.middlewareData.shift;let D=T,N=P;if((t=n.middlewareData.shift)!=null&&t.enabled.x&&(N=h),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(D=_),L&&!v){const U=ee(r.left,0),z=ee(r.right,0),A=ee(r.top,0),B=ee(r.bottom,0);d?N=m-2*(U!==0||z!==0?U+z:ee(r.left,r.right)):D=g-2*(A!==0||B!==0?A+B:ee(r.top,r.bottom))}await f({...n,availableWidth:N,availableHeight:D});const I=await i.getDimensions(l.floating);return m!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function lt(){return typeof window<"u"}function Oe(e){return Et(e)?(e.nodeName||"").toLowerCase():"#document"}function te(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function fe(e){var n;return(n=(Et(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function Et(e){return lt()?e instanceof Node||e instanceof te(e).Node:!1}function se(e){return lt()?e instanceof Element||e instanceof te(e).Element:!1}function ce(e){return lt()?e instanceof HTMLElement||e instanceof te(e).HTMLElement:!1}function Gt(e){return!lt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof te(e).ShadowRoot}const wa=new Set(["inline","contents"]);function Ge(e){const{overflow:n,overflowX:t,overflowY:o,display:a}=ie(e);return/auto|scroll|overlay|hidden|clip/.test(n+o+t)&&!wa.has(a)}const ba=new Set(["table","td","th"]);function _a(e){return ba.has(Oe(e))}const xa=[":popover-open",":modal"];function ut(e){return xa.some(n=>{try{return e.matches(n)}catch{return!1}})}const Ca=["transform","translate","scale","rotate","perspective"],Ta=["transform","translate","scale","rotate","perspective","filter"],Oa=["paint","layout","strict","content"];function Pt(e){const n=At(),t=se(e)?ie(e):e;return Ca.some(o=>t[o]?t[o]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||Ta.some(o=>(t.willChange||"").includes(o))||Oa.some(o=>(t.contain||"").includes(o))}function ka(e){let n=ye(e);for(;ce(n)&&!Pe(n);){if(Pt(n))return n;if(ut(n))return null;n=ye(n)}return null}function At(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Sa=new Set(["html","body","#document"]);function Pe(e){return Sa.has(Oe(e))}function ie(e){return te(e).getComputedStyle(e)}function ct(e){return se(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ye(e){if(Oe(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Gt(e)&&e.host||fe(e);return Gt(n)?n.host:n}function yn(e){const n=ye(e);return Pe(n)?e.ownerDocument?e.ownerDocument.body:e.body:ce(n)&&Ge(n)?n:yn(n)}function Ve(e,n,t){var o;n===void 0&&(n=[]),t===void 0&&(t=!0);const a=yn(e),s=a===((o=e.ownerDocument)==null?void 0:o.body),i=te(a);if(s){const l=wt(i);return n.concat(i,i.visualViewport||[],Ge(a)?a:[],l&&t?Ve(l):[])}return n.concat(a,Ve(a,[],t))}function wt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wn(e){const n=ie(e);let t=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const a=ce(e),s=a?e.offsetWidth:t,i=a?e.offsetHeight:o,l=tt(t)!==s||tt(o)!==i;return l&&(t=s,o=i),{width:t,height:o,$:l}}function Dt(e){return se(e)?e:e.contextElement}function Ee(e){const n=Dt(e);if(!ce(n))return ue(1);const t=n.getBoundingClientRect(),{width:o,height:a,$:s}=wn(n);let i=(s?tt(t.width):t.width)/o,l=(s?tt(t.height):t.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const $a=ue(0);function bn(e){const n=te(e);return!At()||!n.visualViewport?$a:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Ea(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==te(e)?!1:n}function xe(e,n,t,o){n===void 0&&(n=!1),t===void 0&&(t=!1);const a=e.getBoundingClientRect(),s=Dt(e);let i=ue(1);n&&(o?se(o)&&(i=Ee(o)):i=Ee(e));const l=Ea(s,t,o)?bn(s):ue(0);let f=(a.left+l.x)/i.x,c=(a.top+l.y)/i.y,r=a.width/i.x,u=a.height/i.y;if(s){const v=te(s),d=o&&se(o)?te(o):o;let m=v,g=wt(m);for(;g&&o&&d!==m;){const w=Ee(g),y=g.getBoundingClientRect(),_=ie(g),h=y.left+(g.clientLeft+parseFloat(_.paddingLeft))*w.x,T=y.top+(g.clientTop+parseFloat(_.paddingTop))*w.y;f*=w.x,c*=w.y,r*=w.x,u*=w.y,f+=h,c+=T,m=te(g),g=wt(m)}}return ot({width:r,height:u,x:f,y:c})}function dt(e,n){const t=ct(e).scrollLeft;return n?n.left+t:xe(fe(e)).left+t}function _n(e,n){const t=e.getBoundingClientRect(),o=t.left+n.scrollLeft-dt(e,t),a=t.top+n.scrollTop;return{x:o,y:a}}function Pa(e){let{elements:n,rect:t,offsetParent:o,strategy:a}=e;const s=a==="fixed",i=fe(o),l=n?ut(n.floating):!1;if(o===i||l&&s)return t;let f={scrollLeft:0,scrollTop:0},c=ue(1);const r=ue(0),u=ce(o);if((u||!u&&!s)&&((Oe(o)!=="body"||Ge(i))&&(f=ct(o)),ce(o))){const d=xe(o);c=Ee(o),r.x=d.x+o.clientLeft,r.y=d.y+o.clientTop}const v=i&&!u&&!s?_n(i,f):ue(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-f.scrollLeft*c.x+r.x+v.x,y:t.y*c.y-f.scrollTop*c.y+r.y+v.y}}function Aa(e){return Array.from(e.getClientRects())}function Da(e){const n=fe(e),t=ct(e),o=e.ownerDocument.body,a=ee(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),s=ee(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let i=-t.scrollLeft+dt(e);const l=-t.scrollTop;return ie(o).direction==="rtl"&&(i+=ee(n.clientWidth,o.clientWidth)-a),{width:a,height:s,x:i,y:l}}const Yt=25;function qa(e,n){const t=te(e),o=fe(e),a=t.visualViewport;let s=o.clientWidth,i=o.clientHeight,l=0,f=0;if(a){s=a.width,i=a.height;const r=At();(!r||r&&n==="fixed")&&(l=a.offsetLeft,f=a.offsetTop)}const c=dt(o);if(c<=0){const r=o.ownerDocument,u=r.body,v=getComputedStyle(u),d=r.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,m=Math.abs(o.clientWidth-u.clientWidth-d);m<=Yt&&(s-=m)}else c<=Yt&&(s+=c);return{width:s,height:i,x:l,y:f}}const Ra=new Set(["absolute","fixed"]);function La(e,n){const t=xe(e,!0,n==="fixed"),o=t.top+e.clientTop,a=t.left+e.clientLeft,s=ce(e)?Ee(e):ue(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,f=a*s.x,c=o*s.y;return{width:i,height:l,x:f,y:c}}function Xt(e,n,t){let o;if(n==="viewport")o=qa(e,t);else if(n==="document")o=Da(fe(e));else if(se(n))o=La(n,t);else{const a=bn(e);o={x:n.x-a.x,y:n.y-a.y,width:n.width,height:n.height}}return ot(o)}function xn(e,n){const t=ye(e);return t===n||!se(t)||Pe(t)?!1:ie(t).position==="fixed"||xn(t,n)}function Ba(e,n){const t=n.get(e);if(t)return t;let o=Ve(e,[],!1).filter(l=>se(l)&&Oe(l)!=="body"),a=null;const s=ie(e).position==="fixed";let i=s?ye(e):e;for(;se(i)&&!Pe(i);){const l=ie(i),f=Pt(i);!f&&l.position==="fixed"&&(a=null),(s?!f&&!a:!f&&l.position==="static"&&!!a&&Ra.has(a.position)||Ge(i)&&!f&&xn(e,i))?o=o.filter(r=>r!==i):a=l,i=ye(i)}return n.set(e,o),o}function Ia(e){let{element:n,boundary:t,rootBoundary:o,strategy:a}=e;const i=[...t==="clippingAncestors"?ut(n)?[]:Ba(n,this._c):[].concat(t),o],l=i[0],f=i.reduce((c,r)=>{const u=Xt(n,r,a);return c.top=ee(u.top,c.top),c.right=he(u.right,c.right),c.bottom=he(u.bottom,c.bottom),c.left=ee(u.left,c.left),c},Xt(n,l,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Ma(e){const{width:n,height:t}=wn(e);return{width:n,height:t}}function Fa(e,n,t){const o=ce(n),a=fe(n),s=t==="fixed",i=xe(e,!0,s,n);let l={scrollLeft:0,scrollTop:0};const f=ue(0);function c(){f.x=dt(a)}if(o||!o&&!s)if((Oe(n)!=="body"||Ge(a))&&(l=ct(n)),o){const d=xe(n,!0,s,n);f.x=d.x+n.clientLeft,f.y=d.y+n.clientTop}else a&&c();s&&!o&&a&&c();const r=a&&!o&&!s?_n(a,l):ue(0),u=i.left+l.scrollLeft-f.x-r.x,v=i.top+l.scrollTop-f.y-r.y;return{x:u,y:v,width:i.width,height:i.height}}function mt(e){return ie(e).position==="static"}function Jt(e,n){if(!ce(e)||ie(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return fe(e)===t&&(t=t.ownerDocument.body),t}function Cn(e,n){const t=te(e);if(ut(e))return t;if(!ce(e)){let a=ye(e);for(;a&&!Pe(a);){if(se(a)&&!mt(a))return a;a=ye(a)}return t}let o=Jt(e,n);for(;o&&_a(o)&&mt(o);)o=Jt(o,n);return o&&Pe(o)&&mt(o)&&!Pt(o)?t:o||ka(e)||t}const Na=async function(e){const n=this.getOffsetParent||Cn,t=this.getDimensions,o=await t(e.floating);return{reference:Fa(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function za(e){return ie(e).direction==="rtl"}const Ha={convertOffsetParentRelativeRectToViewportRelativeRect:Pa,getDocumentElement:fe,getClippingRect:Ia,getOffsetParent:Cn,getElementRects:Na,getClientRects:Aa,getDimensions:Ma,getScale:Ee,isElement:se,isRTL:za};function Tn(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Va(e,n){let t=null,o;const a=fe(e);function s(){var l;clearTimeout(o),(l=t)==null||l.disconnect(),t=null}function i(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),s();const c=e.getBoundingClientRect(),{left:r,top:u,width:v,height:d}=c;if(l||n(),!v||!d)return;const m=Ze(u),g=Ze(a.clientWidth-(r+v)),w=Ze(a.clientHeight-(u+d)),y=Ze(r),h={rootMargin:-m+"px "+-g+"px "+-w+"px "+-y+"px",threshold:ee(0,he(1,f))||1};let T=!0;function P(L){const D=L[0].intersectionRatio;if(D!==f){if(!T)return i();D?i(!1,D):o=setTimeout(()=>{i(!1,1e-7)},1e3)}D===1&&!Tn(c,e.getBoundingClientRect())&&i(),T=!1}try{t=new IntersectionObserver(P,{...h,root:a.ownerDocument})}catch{t=new IntersectionObserver(P,h)}t.observe(e)}return i(!0),s}function Wa(e,n,t,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,c=Dt(e),r=a||s?[...c?Ve(c):[],...Ve(n)]:[];r.forEach(y=>{a&&y.addEventListener("scroll",t,{passive:!0}),s&&y.addEventListener("resize",t)});const u=c&&l?Va(c,t):null;let v=-1,d=null;i&&(d=new ResizeObserver(y=>{let[_]=y;_&&_.target===c&&d&&(d.unobserve(n),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var h;(h=d)==null||h.observe(n)})),t()}),c&&!f&&d.observe(c),d.observe(n));let m,g=f?xe(e):null;f&&w();function w(){const y=xe(e);g&&!Tn(g,y)&&t(),g=y,m=requestAnimationFrame(w)}return t(),()=>{var y;r.forEach(_=>{a&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),u==null||u(),(y=d)==null||y.disconnect(),d=null,f&&cancelAnimationFrame(m)}}const ja=ma,Ka=ga,Qt=fa,Ua=ya,Ga=pa,Ya=da,Xa=ha,Ja=(e,n,t)=>{const o=new Map,a={platform:Ha,...t},s={...a.platform,_c:o};return ca(e,n,{...a,platform:s})};function Qa(e){return e!=null&&typeof e=="object"&&"$el"in e}function bt(e){if(Qa(e)){const n=e.$el;return Et(n)&&Oe(n)==="#comment"?null:n}return e}function $e(e){return typeof e=="function"?e():p(e)}function Za(e){return{name:"arrow",options:e,fn(n){const t=bt($e(e.element));return t==null?{}:Ya({element:t,padding:e.padding}).fn(n)}}}function On(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zt(e,n){const t=On(e);return Math.round(n*t)/t}function es(e,n,t){t===void 0&&(t={});const o=t.whileElementsMounted,a=$(()=>{var D;return(D=$e(t.open))!=null?D:!0}),s=$(()=>$e(t.middleware)),i=$(()=>{var D;return(D=$e(t.placement))!=null?D:"bottom"}),l=$(()=>{var D;return(D=$e(t.strategy))!=null?D:"absolute"}),f=$(()=>{var D;return(D=$e(t.transform))!=null?D:!0}),c=$(()=>bt(e.value)),r=$(()=>bt(n.value)),u=C(0),v=C(0),d=C(l.value),m=C(i.value),g=rn({}),w=C(!1),y=$(()=>{const D={position:d.value,left:"0",top:"0"};if(!r.value)return D;const N=Zt(r.value,u.value),I=Zt(r.value,v.value);return f.value?{...D,transform:"translate("+N+"px, "+I+"px)",...On(r.value)>=1.5&&{willChange:"transform"}}:{position:d.value,left:N+"px",top:I+"px"}});let _;function h(){if(c.value==null||r.value==null)return;const D=a.value;Ja(c.value,r.value,{middleware:s.value,placement:i.value,strategy:l.value}).then(N=>{u.value=N.x,v.value=N.y,d.value=N.strategy,m.value=N.placement,g.value=N.middlewareData,w.value=D!==!1})}function T(){typeof _=="function"&&(_(),_=void 0)}function P(){if(T(),o===void 0){h();return}if(c.value!=null&&r.value!=null){_=o(c.value,r.value,h);return}}function L(){a.value||(w.value=!1)}return _e([s,i,l,a],h,{flush:"sync"}),_e([c,r],P,{flush:"sync"}),_e(a,L,{flush:"sync"}),Hn()&&Vn(T),{x:Se(u),y:Se(v),strategy:Se(d),placement:Se(m),middlewareData:Se(g),isPositioned:Se(w),floatingStyles:y,update:h}}const ts={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,hideShiftedArrow:!0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[Wi,ns]=Ce("PopperContent");var os=M({inheritAttrs:!1,__name:"PopperContent",props:jn({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...ts}),emits:["placed"],setup(e,{emit:n}){const t=e,o=n,a=mn(),{forwardRef:s,currentElement:i}=ae(),l=C(),f=C(),{width:c,height:r}=xo(f),u=$(()=>t.side+(t.align!=="center"?`-${t.align}`:"")),v=$(()=>typeof t.collisionPadding=="number"?t.collisionPadding:{top:0,right:0,bottom:0,left:0,...t.collisionPadding}),d=$(()=>Array.isArray(t.collisionBoundary)?t.collisionBoundary:[t.collisionBoundary]),m=$(()=>({padding:v.value,boundary:d.value.filter(Xo),altBoundary:d.value.length>0})),g=$(()=>({mainAxis:t.sideFlip,crossAxis:t.alignFlip})),w=Wn(()=>[ja({mainAxis:t.sideOffset+r.value,alignmentAxis:t.alignOffset}),t.prioritizePosition&&t.avoidCollisions&&Qt({...m.value,...g.value}),t.avoidCollisions&&Ka({mainAxis:!0,crossAxis:!!t.prioritizePosition,limiter:t.sticky==="partial"?Xa():void 0,...m.value}),!t.prioritizePosition&&t.avoidCollisions&&Qt({...m.value,...g.value}),Ua({...m.value,apply:({elements:A,rects:B,availableWidth:q,availableHeight:S})=>{const{width:b,height:G}=B.reference,V=A.floating.style;V.setProperty("--reka-popper-available-width",`${q}px`),V.setProperty("--reka-popper-available-height",`${S}px`),V.setProperty("--reka-popper-anchor-width",`${b}px`),V.setProperty("--reka-popper-anchor-height",`${G}px`)}}),f.value&&Za({element:f.value,padding:t.arrowPadding}),Jo({arrowWidth:c.value,arrowHeight:r.value}),t.hideWhenDetached&&Ga({strategy:"referenceHidden",...m.value})]),y=$(()=>t.reference??a.anchor.value),{floatingStyles:_,placement:h,isPositioned:T,middlewareData:P}=es(y,l,{strategy:t.positionStrategy,placement:u,whileElementsMounted:(...A)=>Wa(...A,{layoutShift:!t.disableUpdateOnLayoutShift,animationFrame:t.updatePositionStrategy==="always"}),middleware:w}),L=$(()=>gt(h.value)[0]),D=$(()=>gt(h.value)[1]);sn(()=>{T.value&&o("placed")});const N=$(()=>{var B;const A=((B=P.value.arrow)==null?void 0:B.centerOffset)!==0;return t.hideShiftedArrow&&A}),I=C("");ge(()=>{i.value&&(I.value=window.getComputedStyle(i.value).zIndex)});const U=$(()=>{var A;return((A=P.value.arrow)==null?void 0:A.x)??0}),z=$(()=>{var A;return((A=P.value.arrow)==null?void 0:A.y)??0});return ns({placedSide:L,onArrowChange:A=>f.value=A,arrowX:U,arrowY:z,shouldHideArrow:N}),(A,B)=>{var q,S,b;return x(),H("div",{ref_key:"floatingRef",ref:l,"data-reka-popper-content-wrapper":"",style:at({...p(_),transform:p(T)?p(_).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:I.value,"--reka-popper-transform-origin":[(q=p(P).transformOrigin)==null?void 0:q.x,(S=p(P).transformOrigin)==null?void 0:S.y].join(" "),...((b=p(P).hide)==null?void 0:b.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[R(p(de),we({ref:p(s)},A.$attrs,{"as-child":t.asChild,as:A.as,"data-side":L.value,"data-align":D.value,style:{animation:p(T)?void 0:"none"}}),{default:k(()=>[W(A.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),as=os;const[kn,ss]=Ce("TabsRoot");var is=M({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,o=n,{orientation:a,unmountOnHide:s,dir:i}=st(t),l=dn(i);ae();const f=_t(t,"modelValue",o,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),c=C(),r=rn(new Set);return ss({modelValue:f,changeModelValue:u=>{f.value=u},orientation:a,dir:l,unmountOnHide:s,activationMode:t.activationMode,baseId:xt(void 0,"reka-tabs"),tabsList:c,contentIds:r,registerContent:u=>{r.value=new Set([...r.value,u])},unregisterContent:u=>{const v=new Set(r.value);v.delete(u),r.value=v}}),(u,v)=>(x(),F(p(de),{dir:p(l),"data-orientation":p(a),"as-child":u.asChild,as:u.as},{default:k(()=>[W(u.$slots,"default",{modelValue:p(f)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),rs=is;function ls(e,n){return`${e}-trigger-${n}`}function us(e,n){return`${e}-content-${n}`}var cs=M({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,{loop:t}=st(n),{forwardRef:o,currentElement:a}=ae(),s=kn();return s.tabsList=a,(i,l)=>(x(),F(p(No),{"as-child":"",orientation:p(s).orientation.value,dir:p(s).dir.value,loop:p(t)},{default:k(()=>[R(p(de),{ref:p(o),role:"tablist","as-child":i.asChild,as:i.as,"aria-orientation":p(s).orientation.value},{default:k(()=>[W(i.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),ds=cs,fs=M({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,{forwardRef:t}=ae(),o=kn(),a=$(()=>ls(o.baseId,n.value)),s=$(()=>o.contentIds.value.has(n.value)?us(o.baseId,n.value):void 0),i=$(()=>n.value===o.modelValue.value);return(l,f)=>(x(),F(p(Ho),{"as-child":"",focusable:!l.disabled,active:i.value},{default:k(()=>[R(p(de),{id:a.value,ref:p(t),role:"tab",type:l.as==="button"?"button":void 0,as:l.as,"as-child":l.asChild,"aria-selected":i.value?"true":"false","aria-controls":s.value,"data-state":i.value?"active":"inactive",disabled:l.disabled,"data-disabled":l.disabled?"":void 0,"data-orientation":p(o).orientation.value,onMousedown:f[0]||(f[0]=Ct(c=>{!l.disabled&&c.ctrlKey===!1?p(o).changeModelValue(l.value):c.preventDefault()},["left"])),onKeydown:f[1]||(f[1]=Kn(c=>p(o).changeModelValue(l.value),["enter","space"])),onFocus:f[2]||(f[2]=()=>{const c=p(o).activationMode!=="manual";!i.value&&!l.disabled&&c&&p(o).changeModelValue(l.value)})},{default:k(()=>[W(l.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),ps=fs;const[qt,vs]=Ce("TooltipProvider");var ms=M({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(e){const n=e,{delayDuration:t,skipDelayDuration:o,disableHoverableContent:a,disableClosingTrigger:s,ignoreNonKeyboardFocus:i,disabled:l}=st(n);ae();const f=C(!0),c=C(!1),{start:r,stop:u}=ln(()=>{f.value=!0},o,{immediate:!1});return vs({isOpenDelayed:f,delayDuration:t,onOpen(){u(),f.value=!1},onClose(){r()},isPointerInTransitRef:c,disableHoverableContent:a,disableClosingTrigger:s,disabled:l,ignoreNonKeyboardFocus:i}),(v,d)=>W(v.$slots,"default")}}),gs=ms;const Sn="tooltip.open",[ft,hs]=Ce("TooltipRoot");var ys=M({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n;ae();const a=qt(),s=$(()=>t.disableHoverableContent??a.disableHoverableContent.value),i=$(()=>t.disableClosingTrigger??a.disableClosingTrigger.value),l=$(()=>t.disabled??a.disabled.value),f=$(()=>t.delayDuration??a.delayDuration.value),c=$(()=>t.ignoreNonKeyboardFocus??a.ignoreNonKeyboardFocus.value),r=_t(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0});_e(r,h=>{a.onClose&&(h?(a.onOpen(),document.dispatchEvent(new CustomEvent(Sn))):a.onClose())});const u=C(!1),v=C(),d=$(()=>r.value?u.value?"delayed-open":"instant-open":"closed"),{start:m,stop:g}=ln(()=>{u.value=!0,r.value=!0},f,{immediate:!1});function w(){g(),u.value=!1,r.value=!0}function y(){g(),r.value=!1}function _(){m()}return hs({contentId:"",open:r,stateAttribute:d,trigger:v,onTriggerChange(h){v.value=h},onTriggerEnter(){a.isOpenDelayed.value?_():w()},onTriggerLeave(){s.value?y():g()},onOpen:w,onClose:y,disableHoverableContent:s,disableClosingTrigger:i,disabled:l,ignoreNonKeyboardFocus:c}),(h,T)=>(x(),F(p(Uo),null,{default:k(()=>[W(h.$slots,"default",{open:p(r)})]),_:3}))}}),ws=ys,bs=M({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:n}){const t=e,o=n,a=ft(),{forwardRef:s,currentElement:i}=ae(),l=$(()=>{var c;return t.ariaLabel||((c=i.value)==null?void 0:c.textContent)}),f=$(()=>{const{ariaLabel:c,...r}=t;return r});return Te(()=>{It(window,"scroll",c=>{const r=c.target;r!=null&&r.contains(a.trigger.value)&&a.onClose()}),It(window,Sn,a.onClose)}),(c,r)=>(x(),F(p($o),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:r[0]||(r[0]=u=>o("escapeKeyDown",u)),onPointerDownOutside:r[1]||(r[1]=u=>{var v;p(a).disableClosingTrigger.value&&((v=p(a).trigger.value)!=null&&v.contains(u.target))&&u.preventDefault(),o("pointerDownOutside",u)}),onFocusOutside:r[2]||(r[2]=Ct(()=>{},["prevent"])),onDismiss:r[3]||(r[3]=u=>p(a).onClose())},{default:k(()=>[R(p(as),we({ref:p(s),"data-state":p(a).stateAttribute.value},{...c.$attrs,...f.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:k(()=>[W(c.$slots,"default"),R(p(Wo),{id:p(a).contentId,role:"tooltip"},{default:k(()=>[me(K(l.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),$n=bs,_s=M({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(e){const t=un(e),{forwardRef:o,currentElement:a}=ae(),{trigger:s,onClose:i}=ft(),l=qt(),{isPointerInTransit:f,onPointerExit:c}=mo(s,a);return l.isPointerInTransitRef=f,c(()=>{i()}),(r,u)=>(x(),F($n,we({ref:p(o)},p(t)),{default:k(()=>[W(r.$slots,"default")]),_:3},16))}}),xs=_s,Cs=M({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:n}){const t=e,o=n,a=ft(),s=it(t,o),{forwardRef:i}=ae();return(l,f)=>(x(),F(p(Gn),{present:l.forceMount||p(a).open.value},{default:k(()=>[(x(),F(Un(p(a).disableHoverableContent.value?$n:xs),we({ref:p(i)},p(s)),{default:k(()=>[W(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ts=Cs,Os=M({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>(x(),F(p(Po),Ke(Ue(n)),{default:k(()=>[W(t.$slots,"default")]),_:3},16))}}),ks=Os,Ss=M({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=ft(),o=qt();t.contentId||(t.contentId=xt(void 0,"reka-tooltip-content"));const{forwardRef:a,currentElement:s}=ae(),i=C(!1),l=C(!1),f=$(()=>t.disabled.value?{}:{click:g,focus:d,pointermove:u,pointerleave:v,pointerdown:r,blur:m});Te(()=>{t.onTriggerChange(s.value)});function c(){setTimeout(()=>{i.value=!1},1)}function r(){t.open&&!t.disableClosingTrigger.value&&t.onClose(),i.value=!0,document.addEventListener("pointerup",c,{once:!0})}function u(w){w.pointerType!=="touch"&&!l.value&&!o.isPointerInTransitRef.value&&(t.onTriggerEnter(),l.value=!0)}function v(){t.onTriggerLeave(),l.value=!1}function d(w){var y,_;i.value||t.ignoreNonKeyboardFocus.value&&!((_=(y=w.target).matches)!=null&&_.call(y,":focus-visible"))||t.onOpen()}function m(){t.onClose()}function g(){t.disableClosingTrigger.value||t.onClose()}return(w,y)=>(x(),F(p(Yo),{"as-child":"",reference:w.reference},{default:k(()=>[R(p(de),we({ref:p(a),"aria-describedby":p(t).open.value?p(t).contentId:void 0,"data-state":p(t).stateAttribute.value,as:w.as,"as-child":n.asChild,"data-grace-area-trigger":""},Yn(f.value)),{default:k(()=>[W(w.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),$s=Ss;function Es(){const e=C(!1),n=C(!1),t=C([]),o=C(""),a=C(""),s=C(""),i=C(""),l=C(null),f=C(!1),c=C([]),r=C(""),u=C(-1);let v=0,d=null,m="",g="",w="",y=null;const _=z=>{y||(y=setTimeout(()=>{i.value=z,y=null},100))},h=(z,A="info",B)=>{t.value.push({time:new Date().toLocaleTimeString(),message:z,type:A,...B?{detail:B}:{}})},T=z=>{const A=t.value.find(B=>B.type==="stream");A?A.message=z:h(z,"stream")},P=z=>({start:"",research:"",plan:"",write:"",code:"",review:"",image:"",assemble:"",complete:"",error:""})[z]||"",L=(z,A)=>{m="",g="",w="",i.value="",c.value=[],r.value="";const B=Qn(z);d=B,B.addEventListener("connected",()=>{h(" "),a.value=""}),B.addEventListener("progress",q=>{const S=JSON.parse(q.data),b=P(S.stage);h(`${b} ${S.message}`,S.stage==="error"?"error":"info"),o.value=S.message}),B.addEventListener("log",q=>{var Y,re;const S=JSON.parse(q.data);let b="";b={generator:"",researcher:"",planner:"",writer:"",questioner:"",coder:"",artist:"",reviewer:"",assembler:"",search_service:"",blog_service:""}[S.logger]||b;const V=((Y=S.message)==null?void 0:Y.includes(""))||((re=S.message)==null?void 0:re.includes(""));h(`${b} ${S.message}`,V?"success":"info"),o.value=S.message}),B.addEventListener("stream",q=>{const S=JSON.parse(q.data);S.stage==="outline"&&T(S.accumulated)}),B.addEventListener("outline_ready",q=>{const S=JSON.parse(q.data);l.value={title:S.title||"",sections_titles:S.sections_titles||[],sections:S.sections||[]},f.value=!0,h(" ...","info"),o.value=""}),B.addEventListener("writing_chunk",q=>{const S=JSON.parse(q.data),b=S.section_title||"";b&&b!==w&&(w&&(g=m),w=b,v++,u.value=v-1),S.accumulated?(m=g?g+`

`+S.accumulated:S.accumulated,_(m)):S.delta&&(m+=S.delta,_(m))}),B.addEventListener("result",q=>{var G,V,Y,re,De,qe,Ye,Xe;const S=JSON.parse(q.data),b=S.data||{};switch(S.type){case"search_started":t.value.push({time:new Date().toLocaleTimeString(),message:` : ${b.query||""}`,type:"search",data:{query:b.query,searching:!0}});break;case"search_results":{let X=-1;for(let J=t.value.length-1;J>=0;J--){const ne=t.value[J];if(ne.type==="search"&&((G=ne.data)!=null&&G.searching)){if(((V=ne.data)==null?void 0:V.query)===b.query){X=J;break}X<0&&(X=J)}}X>=0?t.value[X]={time:new Date().toLocaleTimeString(),message:` ${b.query||""}`,type:"search",data:b}:t.value.push({time:new Date().toLocaleTimeString(),message:` ${b.query||""}`,type:"search",data:b});break}case"crawl_completed":b.url?t.value.push({time:new Date().toLocaleTimeString(),message:` : ${b.title||b.url}`,type:"crawl",data:b}):b.count&&h(` : ${b.count} `,"success");break;case"search_completed":for(let X=t.value.length-1;X>=0;X--){const J=t.value[X];J.type==="search"&&((Y=J.data)!=null&&Y.searching)&&(t.value[X]={time:new Date().toLocaleTimeString(),message:` : ${((re=J.data)==null?void 0:re.query)||""}`,type:"success"})}h(` ${b.message||""}`,"success");break;case"researcher_complete":for(let X=t.value.length-1;X>=0;X--){const J=t.value[X];J.type==="search"&&((De=J.data)!=null&&De.searching)&&t.value.splice(X,1)}(b.document_count>0||b.web_count>0)&&h(` :  ${b.document_count} ,  ${b.web_count} `,"info"),((qe=b.key_concepts)==null?void 0:qe.length)>0&&h(` : ${b.key_concepts.join(", ")}`,"success");break;case"outline_complete":if(((Ye=b.sections_titles)==null?void 0:Ye.length)>0){const X=b.sections_titles.map((J,ne)=>`${ne+1}. ${J}`).join(`
`);h(` : ${b.title}`,"success",X)}break;case"section_complete":h(`  ${b.section_index} : ${b.title} (${b.content_length} )`,"success");break;case"check_knowledge_complete":b.gaps_count>0&&h(` : ${b.gaps_count}  ( ${b.search_count}/${b.max_search_count})`,"info",(Xe=b.gaps)==null?void 0:Xe.join(`
`));break;case"refine_search_complete":h(`  ${b.round} :  ${b.results_count} `,"info");break;case"enhance_knowledge_complete":h(` :  ${b.knowledge_length} `,"success");break;case"questioner_complete":h(b.needs_deepen?" ":" ",b.needs_deepen?"info":"success");break;case"coder_complete":h(` : ${b.code_blocks_count} `,"success");break;case"artist_complete":h(` : ${b.images_count} `,"success");break;case"reviewer_complete":h(` : ${b.score}  ${b.passed?"":""}`,b.passed?"success":"warning");break;case"assembler_complete":h(` : ${b.markdown_length} `,"success");break;default:b.message&&h(` ${b.message}`,"info")}}),B.addEventListener("complete",q=>{const S=JSON.parse(q.data);h(" ","success"),a.value="",o.value="",e.value=!1,S.citations&&(c.value=S.citations),S.markdown&&(i.value=S.markdown),r.value=S.id||S.book_id||"",B.close(),d=null,A==null||A(S)}),B.addEventListener("error",q=>{if(q.data){const S=JSON.parse(q.data);h(` : ${S.message}`,"error")}a.value="",e.value=!1}),B.onerror=()=>{B.readyState===EventSource.CLOSED&&(h(" "),e.value=!1)}},D=async z=>{if(s.value){f.value=!1;try{(await Jn(s.value,z)).success&&(h(z==="accept"?" ":" ","success"),o.value="...")}catch(A){h(` : ${A.message}`,"error")}}},N=async()=>{if(s.value)try{const z=await Xn(s.value);z.success?h(" ","error"):h(` : ${z.error}`,"error")}catch{h(" ","error")}d==null||d.close(),d=null,a.value="",e.value=!1},I=()=>{n.value=!1,d==null||d.close(),d=null},U=()=>{e.value=!1,n.value=!1,t.value=[],o.value="",a.value="",s.value="",i.value="",l.value=null,f.value=!1,c.value=[],r.value="",m="",g="",w="",u.value=-1,v=0};return je(()=>{d==null||d.close(),d=null,y&&(clearTimeout(y),y=null)}),{isLoading:e,showProgress:n,progressItems:t,progressText:o,statusBadge:a,currentTaskId:s,previewContent:i,outlineData:l,waitingForOutline:f,citations:c,completedBlogId:r,activeSectionIndex:u,connectSSE:L,confirmOutline:D,stopGeneration:N,closeProgress:I,addProgressItem:h,reset:U}}function Ps(){const e=C(!1);function n(r,u){const v=URL.createObjectURL(r),d=document.createElement("a");d.href=v,d.download=u,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(v)}function t(r){return r.replace(/[^a-zA-Z0-9\u4e00-\u9fa5_-]/g,"_").substring(0,50)}function o(r,u){const v=new Blob([r],{type:"text/markdown;charset=utf-8"});n(v,`${t(u)}.md`)}function a(r,u){let v=r.replace(/^### (.*$)/gm,"<h3>$1</h3>").replace(/^## (.*$)/gm,"<h2>$1</h2>").replace(/^# (.*$)/gm,"<h1>$1</h1>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>");const d=`<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${u}</title>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; max-width: 800px; margin: 0 auto; padding: 2rem; line-height: 1.8; color: #333; }
  h1, h2, h3 { color: #1a1a1a; margin-top: 1.5em; }
  code { background: #f4f4f4; padding: 2px 6px; border-radius: 3px; font-size: 0.9em; }
  pre { background: #f4f4f4; padding: 1rem; border-radius: 6px; overflow-x: auto; }
  img { max-width: 100%; border-radius: 8px; }
  a { color: #0066cc; }
</style>
</head>
<body>
<p>${v}</p>
</body>
</html>`,m=new Blob([d],{type:"text/html;charset=utf-8"});n(m,`${t(u)}.html`)}function s(r,u){const v=r.replace(/^#{1,6}\s/gm,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/```[\s\S]*?```/g,"").replace(/!\[.*?\]\(.*?\)/g,"").replace(/\[([^\]]+)\]\(.*?\)/g,"$1"),d=new Blob([v],{type:"text/plain;charset=utf-8"});n(d,`${t(u)}.txt`)}async function i(r,u){const v=As(r),{jsPDF:d}=await Mt(async()=>{const{jsPDF:T}=await import("./jspdf.es.min-jsalfggW.js").then(P=>P.j);return{jsPDF:T}},__vite__mapDeps([0,1,2])),m=new d({unit:"mm",format:"a4"});try{m.setFont("helvetica")}catch{}let g=20;const w=280,y=7,_=15,h=180;for(const T of v){let P=11;T.type==="h1"?P=18:T.type==="h2"?P=15:T.type==="h3"?P=13:T.type==="list"&&(P=11),m.setFontSize(P);const L=m.splitTextToSize(T.text,h);for(const D of L)g>w&&(m.addPage(),g=20),m.text(D,_,g),g+=y;g+=2}m.save(`${t(u)}.pdf`)}async function l(r,u){const v=document.getElementById(r);if(!v)throw new Error(`Element #${r} not found`);const d=(await Mt(async()=>{const{default:g}=await import("./html2canvas.esm-CBrSDip1.js");return{default:g}},[])).default;(await d(v,{scale:2,useCORS:!0,windowHeight:v.scrollHeight})).toBlob(g=>{g&&n(g,`${t(u)}.png`)},"image/png")}async function f(r,u){const v=await fetch("/api/export/word",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({markdown:r,title:u})});if(!v.ok){const m=await v.json().catch(()=>({error:""}));throw new Error(m.error||"")}const d=await v.blob();n(d,`${t(u)}.docx`)}async function c(r,u,v){if(!(!u||e.value)){e.value=!0;try{switch(r){case"markdown":o(u,v);break;case"html":a(u,v);break;case"txt":s(u,v);break;case"word":await f(u,v);break;case"pdf":await i(u,v);break;case"image":await l("preview-content",v);break}}finally{e.value=!1}}}return{isDownloading:Zn(e),exportAs:c,exportMarkdown:o,exportHtml:a,exportTxt:s,exportWord:f,exportPdf:i,exportImage:l}}function As(e){const n=e.split(`
`),t=[];for(const o of n){const a=o.trim();a&&(a.startsWith("### ")?t.push({type:"h3",text:a.slice(4)}):a.startsWith("## ")?t.push({type:"h2",text:a.slice(3)}):a.startsWith("# ")?t.push({type:"h1",text:a.slice(2)}):a.startsWith("- ")||a.startsWith("* ")?t.push({type:"list",text:` ${a.slice(2)}`}):t.push({type:"paragraph",text:Ds(a)}))}return t}function Ds(e){return e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1")}function en(e){try{return decodeURIComponent(e).replace(/\/+$/,"").toLowerCase()}catch{return e.replace(/\/+$/,"").toLowerCase()}}function qs(e,n){if(!e||!(n!=null&&n.length))return null;const t=en(e);for(const o of n)if(en(o.url)===t)return o;return null}function Rs(e,n){if(!e||!(n!=null&&n.length))return[];const t=e.querySelectorAll("a[href]"),o=[];return t.forEach(a=>{const s=a.getAttribute("href")||"";if(!s.startsWith("http"))return;const i=qs(s,n);if(i){const l=n.indexOf(i)+1;o.push({element:a,citation:i,index:l})}}),o}const Ie=M({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const a=it(e,n);return(s,i)=>(x(),F(p(ws),Ke(Ue(p(a))),{default:k(()=>[W(s.$slots,"default")]),_:3},16))}}),Me=M({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:n}){const t=e,o=n,a=Tt(t,"class"),s=it(a,o);return(i,l)=>(x(),F(p(ks),null,{default:k(()=>[R(p(Ts),we({...p(s),...i.$attrs},{class:p(Ot)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:k(()=>[W(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Ls=M({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const n=e;return(t,o)=>(x(),F(p(gs),Ke(Ue(n)),{default:k(()=>[W(t.$slots,"default")]),_:3},16))}}),Fe=M({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(e){const n=e;return(t,o)=>(x(),F(p($s),Ke(Ue(n)),{default:k(()=>[W(t.$slots,"default")]),_:3},16))}}),Bs=M({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(e,{emit:n}){const a=it(e,n);return(s,i)=>(x(),F(p(rs),Ke(Ue(p(a))),{default:k(()=>[W(s.$slots,"default")]),_:3},16))}}),Is=M({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=Tt(n,"class");return(o,a)=>(x(),F(p(ds),we(p(t),{class:p(Ot)("inline-flex items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n.class)}),{default:k(()=>[W(o.$slots,"default")]),_:3},16,["class"]))}}),Ms={class:"truncate"},tn=M({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=Tt(n,"class"),o=un(t);return(a,s)=>(x(),F(p(ps),we(p(o),{class:p(Ot)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n.class)}),{default:k(()=>[O("span",Ms,[W(a.$slots,"default")])]),_:3},16,["class"]))}}),Fs={key:0,class:"export-spinner"},Ns={key:1},zs={key:0,class:"export-menu"},Hs=["onClick"],Vs={class:"export-item-num"},Ws={class:"export-item-label"},js={class:"export-item-ext"},Ks=M({__name:"ExportMenu",props:{content:{},filename:{},isDownloading:{type:Boolean,default:!1},menuOpen:{type:Boolean,default:!1}},emits:["export"],setup(e,{emit:n}){const t=e,o=n,a=C(t.menuOpen),s=C(null),i=r=>{s.value&&!s.value.contains(r.target)&&(a.value=!1)};Te(()=>document.addEventListener("click",i,!0)),je(()=>document.removeEventListener("click",i,!0));const l=[{id:"markdown",label:"Markdown",ext:".md"},{id:"html",label:"HTML",ext:".html"},{id:"text",label:"",ext:".txt"},{id:"pdf",label:"PDF",ext:".pdf"},{id:"word",label:"Word",ext:".docx"}],f=()=>{t.isDownloading||!t.content||(a.value=!a.value)},c=r=>{o("export",r),a.value=!1};return(r,u)=>(x(),H("div",{class:"export-wrapper",ref_key:"wrapperRef",ref:s},[O("button",{class:et(["export-trigger",{downloading:e.isDownloading}]),onClick:f},[e.isDownloading?(x(),H("span",Fs,"")):(x(),H("span",Ns,"")),u[0]||(u[0]=O("span",null,"",-1))],2),a.value?(x(),H("div",zs,[u[1]||(u[1]=O("div",{class:"export-menu-header"},"$ export --format",-1)),(x(),H(be,null,Ne(l,(v,d)=>O("button",{key:v.id,class:"export-item",onClick:m=>c(v.id)},[O("span",Vs,"["+K(d+1)+"]",1),O("span",Ws,K(v.label),1),O("span",js,K(v.ext),1)],8,Hs)),64))])):Q("",!0)],512))}}),Us=rt(Ks,[["__scopeId","data-v-8ad41b9c"]]),Gs={class:"quality-dialog"},Ys={key:0,class:"quality-loading"},Xs={class:"quality-header"},Js={class:"quality-grade"},Qs={class:"quality-overall"},Zs={class:"quality-scores"},ei={class:"score-label"},ti={class:"score-bar"},ni={class:"score-value"},oi={class:"quality-stats"},ai={class:"stat-item"},si={class:"stat-item"},ii={class:"stat-item"},ri={class:"stat-item"},li={key:0,class:"quality-list strengths"},ui={key:1,class:"quality-list weaknesses"},ci={key:2,class:"quality-list suggestions"},di={class:"quality-summary"},fi=M({__name:"QualityDialog",props:{visible:{type:Boolean},evaluation:{},loading:{type:Boolean}},emits:["close"],setup(e){const n=e,t={factual_accuracy:"",completeness:"",coherence:"",relevance:"",citation_quality:"",writing_quality:""},o=$(()=>{var s;const a=((s=n.evaluation)==null?void 0:s.grade)||"";return a==="N/A"?"grade-poor":a.startsWith("A")?"grade-excellent":a.startsWith("B")?"grade-good":a.startsWith("C")?"grade-average":"grade-poor"});return(a,s)=>{var i,l,f;return e.visible?(x(),H("div",{key:0,class:"quality-dialog-overlay",onClick:s[1]||(s[1]=Ct(c=>a.$emit("close"),["self"]))},[O("div",Gs,[e.loading?(x(),H("div",Ys,[...s[2]||(s[2]=[O("span",{class:"loading-spinner"},"",-1),O("span",{class:"loading-text"},"$ evaluate --verbose",-1)])])):e.evaluation?(x(),H(be,{key:1},[O("div",Xs,[O("div",Js,[O("span",{class:et(["grade-badge",o.value])},K(e.evaluation.grade),3),O("span",Qs,K(e.evaluation.overall_score)+"/100",1)]),O("button",{class:"dialog-close-btn",onClick:s[0]||(s[0]=c=>a.$emit("close"))},"")]),O("div",Zs,[(x(),H(be,null,Ne(t,(c,r)=>O("div",{key:r,class:"score-row"},[O("span",ei,K(c),1),O("div",ti,[O("div",{class:"score-bar-fill",style:at({width:`${e.evaluation.scores[r]}%`})},null,4)]),O("span",ni,K(e.evaluation.scores[r])+"%",1)])),64))]),O("div",oi,[O("span",ai," "+K(e.evaluation.word_count)+" ",1),O("span",si," "+K(e.evaluation.citation_count)+" ",1),O("span",ii," "+K(e.evaluation.image_count)+" ",1),O("span",ri," "+K(e.evaluation.code_block_count)+" ",1)]),(i=e.evaluation.strengths)!=null&&i.length?(x(),H("div",li,[s[3]||(s[3]=O("div",{class:"list-title"}," ",-1)),(x(!0),H(be,null,Ne(e.evaluation.strengths,(c,r)=>(x(),H("div",{key:r,class:"list-item"},K(c),1))),128))])):Q("",!0),(l=e.evaluation.weaknesses)!=null&&l.length?(x(),H("div",ui,[s[4]||(s[4]=O("div",{class:"list-title"}," ",-1)),(x(!0),H(be,null,Ne(e.evaluation.weaknesses,(c,r)=>(x(),H("div",{key:r,class:"list-item"},K(c),1))),128))])):Q("",!0),(f=e.evaluation.suggestions)!=null&&f.length?(x(),H("div",ci,[s[5]||(s[5]=O("div",{class:"list-title"}," ",-1)),(x(!0),H(be,null,Ne(e.evaluation.suggestions,(c,r)=>(x(),H("div",{key:r,class:"list-item"},K(c),1))),128))])):Q("",!0),O("div",di,K(e.evaluation.summary),1)],64)):Q("",!0)])])):Q("",!0)}}}),pi=rt(fi,[["__scopeId","data-v-da095d7c"]]),vi={class:"citation-index"},mi={class:"citation-domain"},gi={class:"citation-title"},hi={class:"citation-snippet"},yi={class:"citation-footer"},wi={key:0,class:"citation-relevance"},bi=["href"],_i=M({__name:"CitationTooltip",props:{visible:{type:Boolean},citation:{},index:{},position:{}},emits:["keep-visible","request-hide"],setup(e,{emit:n}){const t=n,o=C(window.innerWidth),a=$(()=>o.value<768);function s(){o.value=window.innerWidth}Te(()=>window.addEventListener("resize",s)),je(()=>window.removeEventListener("resize",s));function i(){t("keep-visible")}function l(){t("request-hide")}return(f,c)=>(x(),F(an,{to:"body"},[e.visible&&e.citation&&!a.value?(x(),H("div",{key:0,class:"citation-tooltip",style:at({top:e.position.top+"px",left:e.position.left+"px"}),onMouseenter:i,onMouseleave:l},[O("div",vi,"["+K(e.index)+"]",1),O("div",mi,K(e.citation.domain),1),O("div",gi,K(e.citation.title),1),O("div",hi,K(e.citation.snippet),1),O("div",yi,[e.citation.relevance?(x(),H("span",wi,"  : "+K(e.citation.relevance)+"% ",1)):Q("",!0),O("a",{href:e.citation.url,target:"_blank",class:"citation-link"}," ",8,bi)])],36)):Q("",!0)]))}}),xi=rt(_i,[["__scopeId","data-v-b6fb44eb"]]),Ci={class:"generate-container"},Ti={class:"generate-main"},Oi={class:"generate-left"},ki={class:"generate-right"},Si={class:"research-card"},$i={class:"card-toolbar"},Ei={class:"flex items-center justify-center"},Pi={class:"card-tab-content"},Ai={class:"report-scroll"},Di=["innerHTML"],qi={key:2,class:"preview-empty"},Ri={key:3,class:"loading-dots"},Li={key:4,class:"preview-footer"},Bi={class:"card-tab-content"},Ii={class:"activities-scroll"},Mi={key:0,class:"mobile-tabs"},Fi=["disabled"],Ni=M({__name:"Generate",setup(e){const n=to(),t=no(),o=C(window.innerWidth),a=$(()=>o.value<768),s=C("activity"),i=C("activities");function l(){o.value=window.innerWidth}const{isLoading:f,progressItems:c,progressText:r,statusBadge:u,currentTaskId:v,previewContent:d,outlineData:m,waitingForOutline:g,citations:w,completedBlogId:y,activeSectionIndex:_,connectSSE:h,confirmOutline:T,stopGeneration:P,addProgressItem:L}=Es(),D=Ps(),N=C(!1),I=C(!1),U=C(""),{renderMarkdown:z}=io(),A=C(null),B=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#ef4444","#84cc16"],q=$(()=>{const j=z(d.value);if(!j)return"";let E=0;return j.replace(/<h2([\s>])/g,(Z,Je)=>{const Re=B[E%B.length],Dn=`<h2 class="${f.value&&E===_.value?"section-heading section-active":"section-heading"}" style="border-bottom: 3px solid ${Re}; padding-bottom: 4px;" data-section="${E}"${Je}`;return E++,Dn})}),S=$(()=>{var j;return((j=m.value)==null?void 0:j.title)||""}),b=C(!1),G=C(null),V=C(!1),Y=C(!1),re=C(null),De=C(0),qe=C({top:0,left:0}),Ye=()=>{I.value?(U.value="",I.value=!1):(U.value=d.value,I.value=!0)},Xe=async()=>{d.value&&(await navigator.clipboard.writeText(d.value),N.value=!0,setTimeout(()=>{N.value=!1},1500))},X=j=>{const E={markdown:"markdown",html:"html",text:"txt",word:"word",pdf:"pdf"};D.exportAs(E[j]||"markdown",d.value,S.value)},J=async()=>{if(!(!y.value||V.value)){V.value=!0,b.value=!0,G.value=null;try{const j=await so(y.value);j.success&&j.evaluation&&(G.value=j.evaluation)}catch(j){L(`: ${j.message}`,"error"),b.value=!1}finally{V.value=!1}}};let ne=null,ke=null;const En=(j,E,Z)=>{ke&&(clearTimeout(ke),ke=null),ne=setTimeout(()=>{Y.value=!0,re.value=j,De.value=E,qe.value={top:Z.bottom+8,left:Z.left}},200)},Pn=()=>{ne&&(clearTimeout(ne),ne=null),ke=setTimeout(()=>{Y.value=!1},100)},An=()=>{if(!A.value||!w.value.length)return;Rs(A.value,w.value).forEach(({element:E,citation:Z,index:Je})=>{E.addEventListener("mouseenter",()=>{const Re=E.getBoundingClientRect();En(Z,Je,Re)}),E.addEventListener("mouseleave",()=>{Pn()}),E.addEventListener("click",Re=>{const Rt=`ref-${Je}`,vt=document.getElementById(Rt);vt&&(Re.preventDefault(),vt.scrollIntoView({behavior:"smooth",block:"start"}))})})};_e([q,w],()=>{He(()=>An())}),_e(d,(j,E)=>{j&&!E&&(i.value="report",a.value&&(s.value="preview"))});const pt=()=>{t.push("/")};return Te(()=>{window.addEventListener("resize",l);const j=n.params.taskId;j&&(v.value=j,f.value=!0,L(` ${j} `),h(j,E=>{E.id&&L("")}))}),je(()=>{window.removeEventListener("resize",l),Y.value=!1,ne&&clearTimeout(ne),ke&&clearTimeout(ke)}),(j,E)=>(x(),H("div",Ci,[O("div",Ti,[Le(O("div",Oi,[R(Ft,{visible:!0,expanded:!0,embedded:!0,"is-loading":p(f),"status-badge":p(u),"progress-text":p(r),"progress-items":p(c),"article-type":"blog","target-length":"","task-id":p(v),"outline-data":p(m),"waiting-for-outline":p(g),"preview-content":p(d),onClose:pt,onStop:p(P),onToggle:()=>{},onConfirmOutline:p(T)},null,8,["is-loading","status-badge","progress-text","progress-items","task-id","outline-data","waiting-for-outline","preview-content","onStop","onConfirmOutline"])],512),[[Qe,!a.value||s.value==="activity"]]),Le(O("div",ki,[O("div",Si,[O("div",$i,[R(p(Ls),{"delay-duration":200},{default:k(()=>[p(f)?(x(),F(p(Ie),{key:0},{default:k(()=>[R(p(Fe),{"as-child":""},{default:k(()=>[R(p(Be),{variant:"ghost",size:"icon",class:"h-8 w-8 text-red-400 hover:bg-red-400/10",onClick:p(P)},{default:k(()=>[R(p(oo),{size:16})]),_:1},8,["onClick"])]),_:1}),R(p(Me),null,{default:k(()=>[...E[6]||(E[6]=[me("",-1)])]),_:1})]),_:1})):Q("",!0),p(d)&&!p(f)?(x(),H(be,{key:1},[R(p(Ie),null,{default:k(()=>[R(p(Fe),{"as-child":""},{default:k(()=>[R(p(Be),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:Ye},{default:k(()=>[I.value?(x(),F(p(fo),{key:0,size:16})):(x(),F(p(co),{key:1,size:16}))]),_:1})]),_:1}),R(p(Me),null,{default:k(()=>[me(K(I.value?"":""),1)]),_:1})]),_:1}),R(p(Ie),null,{default:k(()=>[R(p(Fe),{"as-child":""},{default:k(()=>[R(p(Be),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:Xe},{default:k(()=>[N.value?(x(),F(p(ro),{key:0,size:16})):(x(),F(p(lo),{key:1,size:16}))]),_:1})]),_:1}),R(p(Me),null,{default:k(()=>[me(K(N.value?"":""),1)]),_:1})]),_:1}),p(y)?(x(),F(p(Ie),{key:0},{default:k(()=>[R(p(Fe),{"as-child":""},{default:k(()=>[R(p(Be),{variant:"ghost",size:"icon",class:"h-8 w-8",disabled:V.value,onClick:J},{default:k(()=>[R(p(uo),{size:16})]),_:1},8,["disabled"])]),_:1}),R(p(Me),null,{default:k(()=>[...E[7]||(E[7]=[me("",-1)])]),_:1})]),_:1})):Q("",!0),R(Us,{content:p(d),filename:S.value,"is-downloading":p(D).isDownloading.value,onExport:X},null,8,["content","filename","is-downloading"])],64)):Q("",!0),R(p(Ie),null,{default:k(()=>[R(p(Fe),{"as-child":""},{default:k(()=>[R(p(Be),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:pt},{default:k(()=>[R(p(ao),{size:16})]),_:1})]),_:1}),R(p(Me),null,{default:k(()=>[...E[8]||(E[8]=[me("",-1)])]),_:1})]),_:1})]),_:1})]),R(p(Bs),{modelValue:i.value,"onUpdate:modelValue":E[0]||(E[0]=Z=>i.value=Z),class:"w-full"},{default:k(()=>[O("div",Ei,[R(p(Is),null,{default:k(()=>[R(p(tn),{value:"report"},{default:k(()=>[...E[9]||(E[9]=[me("",-1)])]),_:1}),R(p(tn),{value:"activities"},{default:k(()=>[...E[10]||(E[10]=[me("",-1)])]),_:1})]),_:1})])]),_:1},8,["modelValue"]),Le(O("div",Pi,[O("div",Ai,[E[13]||(E[13]=O("div",{class:"scroll-shadow scroll-shadow-top"},null,-1)),E[14]||(E[14]=O("div",{class:"scroll-shadow scroll-shadow-bottom"},null,-1)),I.value?Le((x(),H("textarea",{key:0,"onUpdate:modelValue":E[1]||(E[1]=Z=>U.value=Z),class:"edit-textarea"},null,512)),[[eo,U.value]]):p(d)?(x(),H("div",{key:1,id:"preview-content",ref_key:"previewRef",ref:A,class:"preview-panel",innerHTML:q.value},null,8,Di)):(x(),H("div",qi,[...E[11]||(E[11]=[O("div",{class:"preview-empty-icon"},"",-1),O("div",{class:"preview-empty-text"},"",-1)])])),p(f)&&p(d)?(x(),H("div",Ri,[...E[12]||(E[12]=[O("span",null,null,-1),O("span",null,null,-1),O("span",null,null,-1)])])):Q("",!0),p(y)&&!p(f)?(x(),H("div",Li,[O("button",{class:"view-article-btn",onClick:E[2]||(E[2]=Z=>p(t).push(`/blog/${p(y)}`))},"   ")])):Q("",!0)])],512),[[Qe,i.value==="report"]]),Le(O("div",Bi,[O("div",Ii,[R(Ft,{visible:!0,expanded:!0,embedded:!0,"is-loading":p(f),"status-badge":p(u),"progress-text":p(r),"progress-items":p(c),"article-type":"blog","target-length":"","task-id":p(v),"outline-data":p(m),"waiting-for-outline":p(g),"preview-content":"",onClose:pt,onStop:p(P),onToggle:()=>{},onConfirmOutline:p(T)},null,8,["is-loading","status-badge","progress-text","progress-items","task-id","outline-data","waiting-for-outline","onStop","onConfirmOutline"])])],512),[[Qe,i.value==="activities"]])])],512),[[Qe,!a.value||s.value==="preview"]])]),a.value?(x(),H("div",Mi,[O("button",{class:et(["mobile-tab",{active:s.value==="activity"}]),onClick:E[3]||(E[3]=Z=>s.value="activity")},"",2),O("button",{class:et(["mobile-tab",{active:s.value==="preview"}]),onClick:E[4]||(E[4]=Z=>s.value="preview"),disabled:!p(d)},"",10,Fi)])):Q("",!0),R(xi,{visible:Y.value,citation:re.value,index:De.value,position:qe.value},null,8,["visible","citation","index","position"]),R(pi,{visible:b.value,evaluation:G.value,loading:V.value,onClose:E[5]||(E[5]=Z=>b.value=!1)},null,8,["visible","evaluation","loading"])]))}}),ji=rt(Ni,[["__scopeId","data-v-d2bba3e5"]]);export{ji as default};
